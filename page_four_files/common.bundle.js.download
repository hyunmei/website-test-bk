(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(39),c=r.n(o),i=r(1),l=["children","className"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=function(e){var t=e.children,r=e.className,n=f(e,l),o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:r?"as-row ".concat(r):"as-row"},n);return a.a.createElement(c.a,o,t)};m.propTypes={children:i.node,className:i.string};var p=m,d=r(68),b=r.n(d),y=function(e){return"auto"===e?-1:"fill"===e||""===e?0:void 0===e?void 0:Number(e)},h=["children","xs","sm","md","lg","className"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var O=function(e){var t=e.children,r=e.xs,n=e.sm,o=e.md,c=e.lg,i=e.className,l=E(e,h),s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){g(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({xs:r?y(r):0,sm:y(n),md:y(o),lg:y(c),className:i?"as-col ".concat(i):"as-col"},l);return a.a.createElement(b.a,s,t)};O.propTypes={children:i.node,xs:Object(i.oneOfType)([i.string,i.number]),sm:Object(i.oneOfType)([i.string,i.number]),md:Object(i.oneOfType)([i.string,i.number]),lg:Object(i.oneOfType)([i.string,i.number]),className:i.string};var w=O,C=r(457);r.d(t,"c",function(){return p}),r.d(t,"a",function(){return w}),r.d(t,"b",function(){return C.a})},1324:function(e,t){},1328:function(e,t,r){"use strict";r.d(t,"r",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"n",function(){return o}),r.d(t,"t",function(){return c}),r.d(t,"f",function(){return i}),r.d(t,"e",function(){return l}),r.d(t,"b",function(){return s}),r.d(t,"l",function(){return u}),r.d(t,"i",function(){return f}),r.d(t,"c",function(){return m}),r.d(t,"h",function(){return p}),r.d(t,"o",function(){return d}),r.d(t,"s",function(){return b}),r.d(t,"q",function(){return y}),r.d(t,"j",function(){return h}),r.d(t,"m",function(){return v}),r.d(t,"p",function(){return g}),r.d(t,"a",function(){return E}),r.d(t,"k",function(){return O}),r.d(t,"g",function(){return w});var n="spendGroup",a="hvtGroup",o="../downloadpdf.do?pdfclass=",c="Spend",i="HVTReward",l="HVTRate",s="Balance",u="Money transfer",f="Instalment",m="FULL_AMOUNT",p="instalmentPlanKeyPointsPDF",d="Any amount",b="Immediately",y="",h="I've read the above",v="We're working to fix the issue. Please try again later.",g="Purchase offers are temporarily unavailable.",E="Balance transfers are temporarily unavailable.",O="Money transfers are temporarily unavailable.",w="Instalment plans are temporarily unavailable."},1329:function(e,t,r){e.exports={"extra-margin":"_15CCY","large-tick":"_2DuXj",__info:"_3Y-wt",__well:"_2L2Bw"}},1330:function(e,t,r){e.exports={"transfers-offers":"lVOt7","info-links":"_2SmnY","btn-allOffers":"_3zFE-","btn-allOffers-fullWidth":"_27_8h",btnOfferContainer:"_1ynxL",btnOffer:"muMpm","btn-default":"gVH9Z",h1:"_1jvDX",h2:"_10Y8R","page-intro-wrapper":"_1ug0f",popover__hvtGroup_active:"_3uku4",popover__spendGroup_active:"_1DJvo",flex:"_2xkiJ",row:"_BtoS","panel-col-btn":"_3Uii2",offer__wrapper:"_3Jy8p",__page_sub_heading:"wYbeR"}},1331:function(e,t,r){"use strict";r.d(t,"a",function(){return s}),r.d(t,"b",function(){return u});var n=r(226),a=r(70);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){return{"X-CSRF-TOKEN":Object(a.c)("CSRF-TOKEN")?Object(a.c)("CSRF-TOKEN"):""}},s=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.assign(r,l()),n.ajax.get(c(c({},a),{},{url:e,headers:r,cache:t}))},u=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object.assign(r,l()),n.ajax.post(c(c({},a),{},{url:e,data:t,cache:!0,headers:r}))}},1332:function(e,t,r){"use strict";r.d(t,"b",function(){return a}),r.d(t,"a",function(){return o});var n=r(478),a=function(e,t){return{type:n.b,payload:{name:e,groupBy:t}}},o=function(e){return{type:n.a,showPopover:e}}},1333:function(e,t,r){"use strict";r.d(t,"d",function(){return u}),r.d(t,"a",function(){return p}),r.d(t,"e",function(){return y}),r.d(t,"b",function(){return h}),r.d(t,"c",function(){return v});var n=r(71),a=r(28);function o(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var c=e.apply(t,r);function i(e){o(c,n,a,i,l,"next",e)}function l(e){o(c,n,a,i,l,"throw",e)}i(void 0)})}}var i=function(e){return{type:n.q,offers:e}},l=function(e,t){return{type:n.o,errorType:e,accountStatus:t.accountStatus}},s=function(){return{type:n.p}},u=function(){return function(){var e=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(s()),e.next=3,t(a.a.getData(n.h.OFFERS)).then(function(e){t(i(e.data))},function(e){var r=JSON.parse(e.response.response);t(l(e.response.status,r))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},f=function(e){return{type:n.f,createPlan:e.createPlan}},m=function(e){return{type:n.d,errorType:e}},p=function(){return function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:n.e}),e.next=4,t(a.a.postDataOld(n.h.CREATE_PLAN));case 4:r=e.sent,t(f(r.data)),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,t(m(e.t0.error.status));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},d=function(e){return{type:n.w,allPlans:e.allPlans}},b=function(e){return{type:n.u,errorType:e}},y=function(){return function(){var e=c(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:n.v}),e.next=4,t(a.a.postDataOld(n.h.VIEW_PLAN));case 4:r=e.sent,t(d(r.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(b(e.t0.error.status));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(e){return e({type:n.m}),e(a.a.getData(n.h.DIRECT_DEBIT)).then(function(t){return e(function(e){return{type:n.n,directDebit:e}}(t.data))},function(){e({type:n.l,errorType:n.l})})}},v=function(e,t){return{type:n.g,service:t,directDebit:e}}},1334:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=(r(1473),function(e){var t=e.children,r=e.className;return a.a.createElement("div",{className:(r?r+" ":"")+"dNNh9"},t)});i.propTypes={children:c.a.node,className:c.a.string},t.a=i},1335:function(e,t,r){"use strict";var n=r(293),a=r.n(n);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a.a.locale("en");var i=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)});c(i,"formatDate",function(e,t){return a()(e).format(t)}),c(i,"compareDates",function(e,t){return!(!e||!t)&&a.a.utc(e).format("DD-MMM-YYYY")===a.a.utc(t).format("DD-MMM-YYYY")}),t.a=i},1336:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(19),l=(r(1330),function(e){return e.isChild?"":a.a.createElement("div",{className:"_2SmnY"},a.a.createElement("p",null,"All offers show"," ",a.a.createElement(i.a,{link:"compoundInterest"},"compound interest rates")),a.a.createElement("p",null,"Any questions? See our"," ",a.a.createElement(i.a,{link:"lendingGuide"},"Guide to transfers & offers")))});l.propTypes={isChild:c.a.bool},t.a=l},1337:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=(r(1330),r(1)),c=r.n(o),i=function(e){var t=e.isChild,r=e.children;return t?a.a.createElement("h2",{className:"_10Y8R"},r):a.a.createElement("h1",{className:"h1 _1jvDX"},r)};i.propTypes={isChild:c.a.bool,children:c.a.oneOfType([c.a.string,c.a.element])},t.a=Object(n.memo)(i)},1338:function(e,t,r){e.exports={cta:"_3KNSS",cta__btn:"KM-GP",small:"_3ni8V"}},1341:function(e,t,r){e.exports={data:"_1787L"}},1342:function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"b",function(){return s}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return f}),r.d(t,"e",function(){return m}),r.d(t,"f",function(){return l});var n=r(528),a=(r(86),function(e){return e.transfersAndOffers.offers.offers}),o=function(e){return e.transfersAndOffers.iPCreatePlan},c=function(e){return e.transfersAndOffers.iPViewPlan},i=function(e){return o(e).hasLoaded},l=function(e){return e.transfersAndOffers.offers.hasLoaded},s=Object(n.createSelector)([c,function(e){return c(e).hasLoaded}],function(e,t){return!!t&&!e.noPlansAvailable}),u=Object(n.createSelector)([o,i],function(e,t){return t?e.highValueTransListSize:0}),f=Object(n.createSelector)([o,i],function(e,t){return t&&e.offerListSize>0?1:0}),m=Object(n.createSelector)([o,i],function(e,t){return t?e.offerList:[]}),p=(Object(n.createSelector)([function(e){return e.transfersAndOffers.offers.offers.length},f],function(e,t){return e+t>0}),function(e){return Object(n.createSelector)([a],function(t){return t.filter(function(t){return t.offerType===e})})})},1343:function(e,t,r){e.exports={"error-well":"_1H8-h","nooffer-error-well":"_20LYT"}},1345:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(15),l=r.n(i),s=r(115),u=r.n(s),f=r(708),m=r(1511),p=r(1512),d=r(1326),b=r.n(d),y=(r(1352),function(e){var t=e.active,r=e.children,o=e.className,c=e.focusTrapOptions,i=e.id,l=e.title;return a.a.createElement(b.a,{active:t,focusTrapOptions:c,style:{left:0,position:"absolute",top:0,width:500}},a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:(o?o+" ":"")+"D9Pfl",id:i,title:l},a.a.createElement("div",{className:"arrow"}),a.a.createElement("div",{className:"popover-content"},r))))});y.propTypes={active:c.a.bool.isRequired,children:c.a.node.isRequired,className:c.a.string.isRequired,focusTrapOptions:c.a.object,id:c.a.string.isRequired,style:c.a.object,title:c.a.string,placement:c.a.string};var h=y,v={"./style.css":{root:"_2i1wr","custom-popover":"D9Pfl","override-popover":"_1UfDn",popover:"_3GWDu",bottomButtons:"_3QBZm"}};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){var t=e.title,r=e.children,n=e.placement,o=void 0===n?"bottom":n,c=e.triggerTitle,i=e.hiddenTriggerTitle,s=void 0===i?"":i,d=e.showPopover,b=e.onClick,y=e.name,O=e.onKeyDown,w=e.popoverClose,C=e.arrowPosition,j=void 0===C?"bottomleft":C,P=e.disabled,T=e.ariaLabel;return a.a.createElement(f.c,null,a.a.createElement(m.a,null,function(e){var t=e.ref;return a.a.createElement("button",{name:y,onClick:b,className:"btn",type:"button",ref:t,disabled:P},a.a.createElement("span",null,c),a.a.createElement("span",{className:"sr-only"},s))}),d&&a.a.createElement(p.a,{placement:o},function(e){var n=e.ref,o=e.style,c=e.placement,i=e.arrowProps;return a.a.createElement("div",{"data-what":!0,ref:n,style:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){E(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},o),"data-placement":c,"data-popover":!0,className:"popover-wrapper _3GWDu",onKeyDown:O},a.a.createElement("div",{className:"arrow",ref:i.ref,style:i.style}),a.a.createElement(h,{id:"popover-positioned-bottom",title:t,active:d,focusTrapOptions:{clickOutsideDeactivates:!0},className:"popover bc-popover ".concat(j)+" "+l()("override-popover",v)},a.a.createElement("div",{className:"inner-content-screen new-focus",role:"dialog","aria-label":T},a.a.createElement("button",{className:"btn-close",onClick:w},a.a.createElement(u.a,{bsClass:"icon",glyph:"cross",className:"icon-cross icon"}),a.a.createElement("span",{className:"sr-only"},"Close this modal and return")),"function"==typeof r?r(w):r)))}))};O.propTypes={children:c.a.oneOfType([c.a.node,c.a.func]),className:c.a.string,title:c.a.string,name:c.a.string,triggerTitle:c.a.string,hiddenTriggerTitle:c.a.string,placement:c.a.string,showPopover:c.a.bool,onClick:c.a.func,onKeyDown:c.a.func,popoverClose:c.a.func,arrowPosition:c.a.string,disabled:c.a.bool,ariaLabel:c.a.string};var w=Object(n.memo)(O),C=r(12),j=r(3),P=r.n(j),T=r(59),k=r(1332),x=r(280),S=r(194);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){N(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=r(101);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){I(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){var t=function(e){return{showPopoverValue:Object(n.useMemo)(function(){return e.popoverReducer.showPopover},[e.popoverReducer.showPopover])}}(e._state).showPopoverValue===e.name,r=function(e,t,r){var a=Object(n.useCallback)(function(){r(Object(T.b)(_({},e.analytics||{}),{event_method:"popupform",event_type:"impression"},e)),P()(e,"onClick")?(r(Object(k.b)(e.name,e.groupBy)),Object(x.a)("[name=".concat(e.name,"]"),100),e.onClick()):(r(Object(k.b)(e.name,e.groupBy)),Object(x.a)("[name=".concat(e.name,"]"),100))},[e,r]),o=Object(n.useCallback)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t&&(t={type:"click"});var a=P()(e,"link","close-icon"),o=P()(e,"className","btn");r(Object(T.b)(_({},t),_({event_label:a,event_type:t.type,event_method:o.includes("btn")?"button":"link"},n),e)),P()(e,"onClickClose")?(r(Object(k.a)(!1)),e.onClickClose()):r(Object(k.a)(!1))},[e,r]),c=Object(n.useCallback)(function(e,t){e.keyCode===S.a.esc&&l.onClickClose(e,t)},[l]),i=Object(n.useCallback)(function(e,t){e.preventDefault(),l.onClickClose(e,t)},[l]),l=Object(n.useMemo)(function(){return{onClick:a,onClickClose:o,onKeyDown:c,popoverClose:i}},[a,o,c,i]);return l}(e,e._state,e._dispatch),o=r.onClick,c=r.onClickClose,i=r.onKeyDown,l=r.popoverClose,s=Object(A.b)(e._state),u=s.isSmall,f=s.isExtraSmall;(0,{usePopoverBodyEffect:function(e,t,r){Object(n.useEffect)(function(){e&&(t||r)?document.body.classList.add("no-scroll-xs"):document.body.classList.remove("no-scroll-xs")},[e,t,r])}}.usePopoverBodyEffect)(t,u,f);var m=F(F({},e),{},{showPopover:t,isSmall:u,isExtraSmall:f,onClick:o,onClickClose:c,onKeyDown:i,popoverClose:l});return a.a.createElement(w,m)};B.propTypes={_state:c.a.object,_dispatch:c.a.func,name:c.a.string,onClick:c.a.func,showPopover:c.a.bool,isSmall:c.a.bool,isExtraSmall:c.a.bool};var L=Object(C.b)(function(e){return{_state:e}},function(e){return{_dispatch:e}})(B);r.d(t,"a",function(){return L})},1348:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=(r(1446),function(e){return e.text?a.a.createElement("div",{className:"_3HM7y"},a.a.createElement("div",{className:"container"},a.a.createElement("h4",{className:"_2tE5D"},e.text))):null});i.propTypes={text:c.a.string},t.a=i},1350:function(e,t,r){"use strict";r.d(t,"a",function(){return v});var n=r(10),a=r.n(n),o=r(0),c=r.n(o),i=r(1),l=r.n(i),s=r(530),u=r(194);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var a=y(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){return[].concat(e)},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(r,o["Component"]);var t=d(r);function r(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=t.call(this,e);var a=h(e.activeItems);return e.allowMultiple||(a=[a[0]]),n.state={activeItems:a},Object(s.enableUniqueIds)(b(n)),n}return function(e,t,r){t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"handleClick",value:function(e,t){if("click"===t.type&&1===t.nativeEvent.which||"keydown"===t.type&&(t.keyCode===u.a.enter||t.keyCode===u.a.enterChrome)){t.preventDefault(),t.stopPropagation();var r={};r.activeItems=this.state.activeItems.slice(0);var n=r.activeItems.indexOf(e);-1!==n?r.activeItems.splice(n,1):this.props.allowMultiple?r.activeItems.push(e):r.activeItems=[e],this.props.onChange&&this.props.onChange(r),r.activeItems=function(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}(r.activeItems),this.setState(r)}}},{key:"renderItems",value:function(){var e=this;return c.a.Children.map(this.props.children,function(t){var r=e.nextUniqueId(),n=-1!==e.state.activeItems.indexOf(r)&&!t.props.disabled;return c.a.cloneElement(t,{expanded:n,itemKey:r,key:r,onClick:e.handleClick.bind(e,r)})})}},{key:"render",value:function(){return c.a.createElement(this.props.rootTag,{className:a()("panel-group",this.props.className),role:"region",style:this.props.style},this.renderItems())}}]),r}();v.defaultProps={activeItems:null,allowMultiple:!1,rootTag:"div"},v.propTypes={allowMultiple:l.a.bool,activeItems:l.a.oneOfType([l.a.number,l.a.array,l.a.string]),className:l.a.string,onChange:l.a.func,style:l.a.object,rootTag:l.a.string,children:l.a.array}},1351:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(18),a=r(489),o=r.n(a),c=r(70);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e,t){var r=Object(c.c)("CSRF-TOKEN"),a=t?"".concat(n.y,"?").concat(t):n.y;o.a.post(a,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),{headers:{"X-CSRF-TOKEN":r||""}})}},1352:function(e,t,r){e.exports={root:"_2i1wr","custom-popover":"D9Pfl","override-popover":"_1UfDn",popover:"_3GWDu",bottomButtons:"_3QBZm"}},1446:function(e,t,r){e.exports={root:"_3HM7y",text:"_2tE5D"}},1456:function(e,t,r){e.exports={offerPanel:"_1Yf2v",popover__hvtGroup_active:"_35PUv",popover__spendGroup_active:"_1UZje",__page_sub_heading:"_2lYvp"}},1458:function(e,t,r){e.exports={summary:"_3TSYL",cta_link:"V7iDE"}},1463:function(e,t,r){e.exports={heading:"_3Q7D_"}},1473:function(e,t,r){e.exports={"button-container":"dNNh9"}},1481:function(e,t,r){e.exports={"item-title":"_2xMFy",arrows:"_1kMhj",title:"_3t37s",expanded:"_2yIzU"}},460:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(68),l=r.n(i),s=r(39),u=r.n(s),f=r(82),m=(r(1343),function(e){var t=e.title,r=e.children;return a.a.createElement(u.a,null,a.a.createElement(l.a,{lg:6,xs:12},a.a.createElement(f.a,{title:t,color:"blue",className:"_20LYT"},r)))});m.propTypes={title:c.a.string,children:c.a.any};var p=m,d=r(42),b=r(71),y=r(30),h=function(e){var t=e.accountStatus,r=void 0===t?"":t;return a.a.createElement(d.a,null,a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12},a.a.createElement("div",{className:"alert bc-alert alert-information"},a.a.createElement("div",{className:"icon-info alert-icon"}),a.a.createElement("div",{className:"alert-body"},a.a.createElement("h2",null,"Sorry, it's not possible to view the transfers and offers for this card"),r===b.a?a.a.createElement(n.Fragment,null,a.a.createElement("p",null,"Activate your card to see if you have offers available."),a.a.createElement("div",{className:"alert-btns"},a.a.createElement("a",{href:y.a.activateCard.link,className:"btn"},"Activate now"))):a.a.createElement("p",null,"To continue managing your account online, please choose another option from the top of the page."))))))};h.propTypes={accountStatus:c.a.string};var v=h,g=function(e){var t=e.children;return a.a.createElement("div",{className:"well bc-well message red _1H8-h"},a.a.createElement("div",null,t))};g.propTypes={children:c.a.node};var E=g;r.d(t,"a",function(){return p}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return E})},461:function(e,t,r){"use strict";var n=r(12),a=r(0),o=r.n(a),c=r(1),i=r.n(c),l=r(115),s=r.n(l),u=r(34),f=r.n(u),m=r(367),p=r.n(m),d=r(1323),b=r.n(d);function y(e){"@babel/helpers - typeof";return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=O(e);if(t){var a=O(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,r)}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(r,o.a.Component);var t=g(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),w(E(n=t.call(this,e)),"isCollapsible",function(){var e=n.props,t=e.isSmall,r=e.isExtraSmall,a=e.panelHeading;return(r||t)&&!!a}),w(E(n),"togglePanel",function(){n.setState(function(e){return{expanded:!e.expanded}})}),n.state={expanded:!1,bodyId:"panel-body-".concat(b()())},n}return function(e,t,r){t&&h(e.prototype,t),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.panelHeading,r=e.children,n=e.expandable,a=e.styledName,c=void 0===a?"":a,i=e.panelId,l=this.state,u=l.expanded,m=l.bodyId,d=this.isCollapsible()&&n,b=o.a.createElement(f.a.Body,{"data-body":!0,key:"body"},r),y=o.a.createElement(p.a,{id:m,in:u},b),h=null;return d&&(h=o.a.createElement(s.a,{glyph:u?"arrow-up":"arrow-down",bsClass:"icon",className:"pull-right"})),o.a.createElement(f.a,{defaultExpanded:u,id:i,className:"bc-panel ".concat(c)},t&&o.a.createElement("div",{className:"panel-heading"},o.a.createElement("h2",{className:"panel-title"},d?o.a.createElement("button",{type:"button","aria-expanded":u,"aria-controls":m,onClick:this.togglePanel},t,h):t)),d?y:b)}}]),r}();w(C,"propTypes",{panelHeading:i.a.string,expandable:i.a.bool,showPanel:i.a.bool,togglePanel:i.a.func,children:i.a.element,isExtraSmall:i.a.bool,isSmall:i.a.bool,panelId:i.a.string,styledName:i.a.string}),w(C,"defaultProps",{expandable:!1});var j=C;t.a=Object(n.b)(function(e){return{isExtraSmall:e.breakpointReducer.isExtraSmall,isSmall:e.breakpointReducer.isSmall}})(j)},462:function(e,t,r){"use strict";var n=r(0),a=r(71),o=r(310),c=r(1333),i=r(89),l=r(1342),s=function(e,t){var r=Object(l.d)(e),a=Object(n.useMemo)(function(){return e.transfersAndOffers.iPCreatePlan.isError},[e.transfersAndOffers.iPCreatePlan.isError]),o=Object(n.useMemo)(function(){return e.transfersAndOffers.iPViewPlan.isError},[e.transfersAndOffers.iPViewPlan.isError]),i=Object(n.useMemo)(function(){return Boolean(a||o)},[a,o]),s=Object(l.b)(e),u=Object(l.c)(e),f=Object(l.e)(e),m=Object(n.useCallback)(function(){return t(Object(c.a)())},[t]);return{ipOfferCount:r,ipCreatePlanHasError:a,ipViewPlanHasError:o,ipError:i,ipHasExistingPlans:s,ipEligiblePurchaseCount:u,ipList:f,ipDispatchCreate:m}},u=function(e,t){var r=s(e,t).ipOfferCount,u=Object(n.useMemo)(function(){return e.transfersAndOffers.offers.accountStatus},[e.transfersAndOffers.offers.accountStatus]),f=Object(n.useMemo)(function(){return e.transfersAndOffers.offers.isError},[e.transfersAndOffers.offers.isError]),m=Object(n.useMemo)(function(){return e.transfersAndOffers.offers.errorType},[e.transfersAndOffers.offers.errorType]),p=f&&m===a.i,d=Object(n.useMemo)(function(){return e.transfersAndOffers.offers.offers.filter(function(e){var t=e.offerType;return a.b.includes(t)})},[e.transfersAndOffers.offers.offers]),b=Object(n.useMemo)(function(){return Object(o.a)(e,"transfersAndOffers.offers.t2BFlags.t2bRestrictedReason")},[e]);return{accountStatus:u,offers:d,error:f,error401:p,errorType:m,offersLoaded:Object(l.f)(e),dispatchLoadOffers:Object(n.useCallback)(function(){return t(Object(c.d)())},[t]),dispatchSetSelectedCategory:Object(n.useCallback)(function(e){return t(Object(i.k)(e))},[t]),dispatchViewPlan:Object(n.useCallback)(function(){return t(Object(c.e)())},[t]),totalOfferCount:d.length+r,fraudException:b}},f=r(86),m=function(e,t){var r=u(e,t),o=r.offers,c=r.error;return{btOffers:Object(n.useMemo)(function(){return f.a.filterOfferType(o,a.c,"offerType","errorCode")},[o]),btOfferError:Object(n.useMemo)(function(){return c||f.a.filterError(o,a.c,"offerType","errorCode")},[o,c])}},p=function(e){return{dispatchLoadDirectDebit:Object(n.useCallback)(function(){return e(Object(c.b)())},[e])}},d=function(e,t){var r=u(e,t),o=r.offers,c=r.error;return{mtOffers:Object(n.useMemo)(function(){return f.a.filterOfferType(o,a.t,"offerType","errorCode")},[o]),mtOfferError:Object(n.useMemo)(function(){return c||f.a.filterError(o,a.t,"offerType","errorCode")},[o,c])}},b=function(e){return{showPopover:Object(n.useMemo)(function(){return e.popoverReducer.showPopover},[e.popoverReducer.showPopover]),showPopoverGroup:Object(n.useMemo)(function(){return e.popoverReducer.showPopoverGroup},[e.popoverReducer.showPopoverGroup])}},y=function(e){return{purchaseOffers:Object(n.useMemo)(function(){return f.a.filterOfferType(e.transfersAndOffers.offers.offers,a.r,"offerType","errorCode")},[e.transfersAndOffers.offers.offers]),purchaseOfferError:Object(n.useMemo)(function(){return f.a.filterError(e.transfersAndOffers.offers.offers,a.r,"offerType","errorCode")},[e.transfersAndOffers.offers.offers]),spendOffers:Object(n.useMemo)(function(){return e.transfersAndOffers.offers.offers.filter(function(e){return e.offerType===a.s})},[e.transfersAndOffers.offers.offers]),hvtRateOffers:Object(n.useMemo)(function(){return e.transfersAndOffers.offers.offers.filter(function(e){return e.offerType===a.j})},[e.transfersAndOffers.offers.offers]),hvtRewardOffers:Object(n.useMemo)(function(){return e.transfersAndOffers.offers.offers.filter(function(e){return e.offerType===a.k})},[e.transfersAndOffers.offers.offers])}};function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e,t){var r=u(e,t),a=r.dispatchLoadOffers,o=r.dispatchSetSelectedCategory,c=r.dispatchViewPlan,i=s(e,t).ipDispatchCreate,l=h(Object(n.useState)(!1),2),f=l[0],m=l[1],p={transfersAndOffersLoaded:f,useTransfersAndOffersEffect:function(){Object(n.useEffect)(function(){p.loadOffersAndPlans()},[])},loadOffersAndPlans:function(){o("transfersOffers");var e=[i(),c(),a()];return Promise.all(e).then(function(){m(!0)})}};return p};r.d(t,"a",function(){return m}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return u}),r.d(t,"f",function(){return b}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return g})},466:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(68),l=r.n(i),s=r(39),u=r.n(s),f=r(461),m=r(1322),p=r.n(m),d=r(1335),b=r(1328),y=r(30),h=function(e,t){return d.a.formatDate(t,e?"DD MMMM YYYY":"DD MMM YYYY")},v=function(e){return 0===e?100:e},g=function(e,t,r){var n;return r?(n=p()(function(e){return e/100},function(e){return Math.floor(100*e)/100},function(e){return e.toFixed(2)},parseFloat)(v(e)*t))%1!=0?n.toFixed(2):n.toString():(n=p()(function(e){return e/100},function(e){return e.toFixed(2)},parseFloat)(v(e)*t))%1!=0?n.toFixed(2):n.toString()},E=function(e){var t;switch(e){case b.f:t=y.a.hvtPromoOfferTerms.link;break;case b.e:t=y.a.hvtRateOfferTerms.link;break;case b.t:t=y.a.purchaseOfferTerms.link;break;case b.b:t=y.a.balanceTransferTerms.link;break;case b.l:t=y.a.moneyTransferTerms.link;break;case b.i:t=b.n+b.h;break;default:return null}return t},O=function(){setTimeout(function(){document.querySelector(".btn-close").focus()},0)},w=function(e,t){switch(e){case b.f:return"".concat(t.cashbackPercent,"% cashback on all big purchases until ").concat(h(!0,t.endDateSpendDuration));case b.e:return"".concat(t.offerFinanceChargeRate,"% interest for ").concat(t.billingCyclesOfferDuration," months every time you make big purchases");case b.t:return"".concat(t.interestRatePromotional,"% interest on all new purchases until ").concat(h(!0,t.offerDurationEnd));case b.b:return"".concat(t.interestRatePromotional,"% interest on balance transfers"," ").concat(t.offerDescription);case b.l:return"".concat(t.interestRatePromotional,"% interest on money transfers ").concat(t.offerDescription);case b.i:return"";default:return null}},C=(r(1463),function(e){var t=e.type,r=e.offer,n=w(t,r);return n?a.a.createElement("h2",{"data-heading":!0,className:"_3Q7D_"},n):a.a.createElement("div",null)});C.propTypes={type:c.a.string,offer:c.a.object};var j=C,P=(r(1341),function(e){var t=e.type,r=e.offer,n=e.footerData,o=t.toLowerCase()===b.t.toLowerCase(),c=r.minimumAmount,i=r.maximumAmount,s=r.spendStartDate,f=r.endDateSpendDuration;return a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:6,md:4,"data-purchase-amount":!0},a.a.createElement("div",null,"On purchases from"),a.a.createElement("strong",{"data-purchases-from":!0,className:"_1787L"},o?b.o:i?"£".concat(c," to £").concat(i):"£".concat(c," and over"))),a.a.createElement(l.a,{xs:12,sm:6,md:4,"data-spend-start":!0},a.a.createElement("div",null,"Start using"),a.a.createElement("strong",{"data-start-using":!0,className:"_1787L"},o?b.s:d.a.compareDates(s,n.currentTime)?b.s:h(!1,s))),a.a.createElement(l.a,{xs:12,sm:6,md:4,"data-spend-end":!0},a.a.createElement("div",null,o?"":t===b.e?"On purchases until":"Get cashback until"),a.a.createElement("strong",{"data-cashback-until":!0,className:"_1787L"},o?b.q:h(!1,f))))});P.propTypes={type:c.a.string,offer:c.a.shape({minimumAmount:c.a.number,maximumAmount:c.a.number,spendStartDate:c.a.number,endDateSpendDuration:c.a.number}),footerData:c.a.shape({currentTime:c.a.number})};var T=P,k=r(135),x=function(e){var t=e.offer,r=t.minimumAmount,n=t.maximumAmount,o=t.feePercentage;return a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:6,md:6,"data-purchase-amount":!0},a.a.createElement("div",null,"Balance transfer fee"),a.a.createElement("strong",{"data-purchases-from":!0,className:"_1787L"},o,"%")),a.a.createElement(l.a,{xs:12,sm:6,md:6,"data-spend-start":!0},a.a.createElement("div",null,"You can transfer"),a.a.createElement("strong",{"data-start-using":!0,className:"_1787L"},k.a.CurrencyCustom(r,"£")," to"," ",k.a.CurrencyCustom(n,"£"))))};x.propTypes={type:c.a.string,offer:c.a.shape({feePercentage:c.a.number,minimumAmount:c.a.number,maximumAmount:c.a.number})};var S=x,D=function(e){var t=e.offer,r=t.feePercentage,n=t.minimumAmount,o=t.maximumAmount;return a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:6,md:6},a.a.createElement("div",null,"Money transfer fee"),a.a.createElement("strong",{"data-fee":!0,className:"_1787L"},r,"%")),a.a.createElement(l.a,{xs:12,sm:6,md:6},a.a.createElement("div",null,"You can transfer"),a.a.createElement("strong",{"data-amount":!0,className:"_1787L"},k.a.CurrencyCustom(n,"£")," to"," ",k.a.CurrencyCustom(o,"£"))))};D.propTypes={type:c.a.string,offer:c.a.shape({feePercentage:c.a.number,minimumAmount:c.a.number,maximumAmount:c.a.number})};var _=D,N=function(e){var t=e.type,r=e.offer,n=e.footerData;switch(t){case b.f:case b.e:case b.t:return a.a.createElement(T,{type:t,offer:r,footerData:n});case b.b:return a.a.createElement(S,{type:t,offer:r});case b.l:return a.a.createElement(_,{type:t,offer:r});case b.i:return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Make a large purchase and pay it off in equal monthly instalments."));default:return null}};N.propTypes={type:c.a.string,offer:c.a.shape({feePercentage:c.a.number,minimumAmount:c.a.number,maximumAmount:c.a.number,endDateSpendDuration:c.a.number}),footerData:c.a.shape({currentTime:c.a.number})};var A=r(12),R=r(3),F=r.n(R),I=r(1345),B=r(1333),L=r(6),M=r(1342),Y=r(71);function q(e){"@babel/helpers - typeof";return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=K(e);if(t){var a=K(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(r,a.a.Component);var t=U(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,e)}return function(e,t,r){t&&H(e.prototype,t),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.id,r=e.title,n=e.children,o=e.name,c=e.triggerTitle,i=e.groupBy,l=e.onClickClose,s=e.offer,u=e.type,f=w(u,s);return a.a.createElement(a.a.Fragment,null,a.a.createElement(I.a,{title:r,id:t,groupBy:i,name:o,triggerTitle:c,hiddenTriggerTitle:f&&" of "+f,placement:"left-end",onClickClose:l},n))}}]),r}();W.propTypes={id:c.a.string,type:c.a.string,offer:c.a.object,children:c.a.node,name:c.a.string.isRequired,title:c.a.string,triggerTitle:c.a.string,hiddenTriggerTitle:c.a.string,groupBy:c.a.string,resetForm:c.a.func,loadOffers:c.a.func,spendOffers:c.a.number,hvtRateOffers:c.a.number,hvtRewardOffers:c.a.number,showFormEnd:c.a.any,serverErrorCode:c.a.any,onClickClose:c.a.func};var z=Object(A.b)(function(e,t){return{showFormEnd:F()(e,"wizard.".concat(t.name,".submitSuccessful")),spendOffers:Object(M.a)(Y.s)(e).length,hvtRateOffers:Object(M.a)(Y.j)(e).length,hvtRewardOffers:Object(M.a)(Y.k)(e).length,serverErrorCode:F()(e,"wizard.".concat(t.name,".data.serverErrorCode"))}},function(e,t){return{resetForm:function(){return e(Object(L.m)(t.name))},loadOffers:function(){return e(Object(B.d)())}}})(W),G=r(288),Q=r(81),J=r(27),X=r(51),$=X.C("Please confirm that you've read the above information."),Z=X.C("Please confirm that you've read the above information."),ee=X.C("Please confirm that you've read the above information."),te=X.C("Please confirm you've read and agree to the information above."),re=(X.A(),function(e){return X.A(e)}),ne=function(e){return X.C(e)},ae=function(){return X.v(6,6,"We don't recognise that sort code. Please try again using numbers only.")},oe=function(e,t,r){return X.v(e,t,r)},ce=function(){return X.v(8,8,"Please enter the 8 digit account number of the account you want to transfer to.")},ie=function(e,t){return X.c(e,t,"Please enter a transfer amount between ".concat(k.a.CurrencyCustom(e,"£")," and ").concat(k.a.CurrencyCustom(t,"£")))},le=function(e){return X.l(e,"We don't recognise that debit card number. Please check the long number on the front of your card and try again.")},se=function(e){return X.d(e,"That card is provided by Barclaycard. You can only transfer from cards not provided by Barclaycard.")},ue=function(e){return X.e(e,"Please enter a valid credit or store card number using numbers, without spaces or symbols")},fe=function(e){return function(t,r){return new RegExp("^[0-9]*(?=[\\.])\\.\\d{".concat(e,",}$")).test(t)?r:t}},me=(fe(1),fe(2),fe(3)),pe=r(21),de=["cardNumber","offer"];function be(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ye=function(e){e.cardNumber;var t=e.offer,r=t.interestRatePromotional,o=t.offerDescription,c=t.feePercentage,i=t.minimumAmount,l=t.maximumAmount,s=be(e,de);return a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,s,a.a.createElement("h3",null,"Balance transfer details",a.a.createElement("span",{className:"sr-only"},", ")),a.a.createElement("p",null,"The offer you have selected is"," ",a.a.createElement("strong",null,r,"% interest ",o," with a fee of"," ",c,"%.")),a.a.createElement("p",null,"You can transfer between"," ",a.a.createElement("strong",null,k.a.CurrencyCustom(i,"£")," to"," ",k.a.CurrencyCustom(l,"£"))),a.a.createElement(J.d,{name:"btAmountToTransfer",id:"btAmountToTransfer",label:"Amount:",validate:[re("Please enter a transfer amount between ".concat(k.a.CurrencyCustom(i,"£")," and ").concat(k.a.CurrencyCustom(l,"£"))),ie(i,l)],normalize:me,helpText:"Your transfer amount must only contain numbers, and can include a decimal amount",required:!0}),a.a.createElement(J.d,{name:"btCreditCardNumber",id:"btCreditCardNumber",label:"From credit card number:",validate:[re("Please enter a valid credit or store card number using numbers, without spaces or symbol"),ue,se],normalize:pe.g,helpText:a.a.createElement("span",null,"Enter the long number on the card you","'","re transferring from. It must be a credit or store card (not a debit card) ",a.a.createElement("strong",null,"not provided by Barclaycard")),required:!0})))};ye.propTypes={offer:c.a.object,activeAccount:c.a.object,cardNumber:c.a.string};var he=ye,ve={ERR_001:"Please enter the relevant character to continue."},ge=r(16),Ee="BT_FORM_FAIL",Oe="MT_FORM_FAIL",we="/ecom/as2/validateT2BOffer.do",Ce="/ecom/as2/fulfilT2BOffer.do",je="/ecom/as2/fulfilSpendOffer.do",Pe="/ecom/as2/validateBTOffer.do",Te="/ecom/as2/fulfilBTOffer.do";function ke(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function xe(e){var t=e.formName,r=e.dispatch,n=e.response;r(Object(B.c)(n.data.directDebit,n.data.serviceAvailableFlag)),r(Object(L.r)(t,{showFormEnd:"success",directDebit:n.data.directDebit,serviceAvailableFlag:n.data.serviceAvailableFlag}))}function Se(e){(0,e.dispatch)(Object(ge.d)(Ee))}var De=function(e,t,r){return function(){var n=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function c(e){ke(o,n,a,c,i,"next",e)}function i(e){ke(o,n,a,c,i,"throw",e)}c(void 0)})}}(regeneratorRuntime.mark(function n(a){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=JSON.stringify({hashValue:"abcd1111111",selectedOfferId:r.id,selectedOfferType:r.offer.offerType,termsAndConditions:e.accept,btAmountToTransfer:e.btAmountToTransfer,btCreditCardNumber:e.btCreditCardNumber}),e={data:e},n.abrupt("return",a(Object(L.q)({formValues:e,formName:t,onSuccess:function(e){200===e.response.response.status&&e.response.data.serviceAvailableFlag&&xe(e)},request:{type:"postDataOld",endPoint:Te},errors:ve,shouldThrowError:function(e){(500===e.response.response.status||200===e.response.response.status&&!e.response.data.serviceAvailableFlag)&&Se(e)}})));case 4:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()};function _e(e){var t=e.formName,r=e.status;(0,e.dispatch)(Object(L.r)(t,{serverErrorCode:r}))}var Ne=function(e,t,r){return function(n){var a=r.rest.offer,o={selectedOfferId:a.offerId,selectedOfferType:a.offerType,hashValue:"abcd11111111",btCardsList:[{sequenceNumber:1,btAmountToTransfer:e.btAmountToTransfer,btCreditCardNumber:e.btCreditCardNumber}]};return e={data:JSON.stringify(o)},n(Object(L.a)({formValues:e,formName:t,request:{type:"postDataOld",endPoint:Pe},errors:{5002:"Please check your transfer amount. It must only contain numbers, and can include a decimal amount.",5011:"Please enter a valid credit or store card number using numbers, without spaces or symbols.",5012:"Please enter a valid credit or store card number using numbers, without spaces or symbols.",5013:"That card is provided by Barclaycard. You can only transfer from cards not provided by Barclaycard.",5014:"Unfortunately we’re not able to accept balance transfers from this card."},shouldThrowError:function(e){if(200===e.response.response.status)if(e.response.data.serviceAvailableFlag){var t=e.response.data.btResponseList[0].errorList;if("error"===e.response.data.btResponseList[0].status)return[{fieldName:t[0].fieldName,errorCode:t[0].errorCode}]}else _e(e);else _e(e)}}))}},Ae=r(93),Re=Object(A.b)(function(e,t){var r=Object(Ae.a)(t.name)(e);return{cardNumber:F()(r,"formValues.btCreditCardNumber")}},function(){return{asyncValidate:Ne,shouldAsyncValidate:"next"}})(he),Fe=(r(1329),["btAmountToTransfer","btCreditCardNumber","offer"]);function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Be(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Le=function(e){var t=e.btAmountToTransfer,r=e.btCreditCardNumber,o=e.offer,c=o.interestRatePromotional,i=o.offerDescription,s=o.feePercentage,f=o.minimumAmount,m=o.maximumAmount,p=Be(e,Fe),d=Number.parseFloat((t*s/100).toFixed(2)),b=t+d;return p.prevCustomFunction=void 0,p.prevText="Back",p.nextText="Confirm",a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,Ie({},p,{"data-form":!0}),a.a.createElement("h3",null,"Balance Transfer Details"),a.a.createElement("p",null,"The offer you have selected is"," ",a.a.createElement("strong",null,c,"% interest ",i," with a fee of"," ",s,"%.")),a.a.createElement("p",{className:"_15CCY"},"You can transfer between"," ",a.a.createElement("strong",null,k.a.CurrencyCustom(f,"£")," to"," ",k.a.CurrencyCustom(m,"£"),".")),a.a.createElement("h3",null,"Check and confirm"),a.a.createElement("p",null,"Please check these details carefully, as it may not be possible to recover money that's been paid to the wrong account."),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Transfer Amount:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CurrencyCustom(t,"£")))),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"From card number:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CardNumber(r)))),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Balance transfer fee:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CurrencyCustom(d,"£")))),a.a.createElement("p",null),a.a.createElement(u.a,null),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},a.a.createElement("strong",null,"Total amount:")),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CurrencyCustom(b,"£"))))))};Le.propTypes={offer:c.a.object,activeAccount:c.a.object,btAmountToTransfer:c.a.number,btCreditCardNumber:c.a.string};var Me=Object(A.b)(function(e,t){var r=Object(Ae.a)(t.name)(e),n=r.btAmountToTransfer,a=r.btCreditCardNumber;return{btAmountToTransfer:Number.parseFloat(n),btCreditCardNumber:a}})(Le);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var qe=function(e){var t=Ye({},e);return t.prevCustomFunction=void 0,t.prevText="Back",t.nextText="Submit",a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,Ye({},t,{"data-form":!0}),a.a.createElement("h3",null,"Remember..."),a.a.createElement("p",null,"Your promotional interest rate only applies to the amount that you’ve transferred. You’ll still receive your usual interest-free period for any new purchases you make, provided you pay off your main balance (excluding promotional balances, such as this balance transfer) in full by your payment due date."),a.a.createElement("p",null,"If you go over your credit limit, miss a payment, or pay less than your minimum monthly payments, your offer will end early and we’ll charge interest on your remaining balance at your standard rate."),a.a.createElement("p",null,"You should aim to repay the money you’ve borrowed before your offer ends. Otherwise, we’ll move it to your standard balance and charge interest at your standard rate."),"This offer is exclusive to you, this account, and this card [",t.activeCard," ",t.lastDigits,"].",a.a.createElement("p",null),a.a.createElement("p",null,a.a.createElement("a",{"data-link":!0,href:E(b.b),className:"bc-external-link",target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:"sr-only"},"Learn about the restrictions and limitations that apply to this offer. Opens a new window"),a.a.createElement("span",{className:"link"},"Important information and restrictions")," ",a.a.createElement("span",{className:"icon icon-new-window"}))," "),a.a.createElement(J.a,{name:"accept",id:"accept",label:"I've read the above",validate:[te]})))};qe.propTypes={activeCard:c.a.string,lastDigits:c.a.string};var He=Object(A.b)(function(e){return{activeCard:F()(e,"globalReducer.activeAccount.accountName"),lastDigits:F()(e,"globalReducer.activeAccount.accountLastDigits")}})(qe),Ve=r(1332),Ue=r(651),Ke=r.n(Ue);function We(e){"@babel/helpers - typeof";return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Je(e);if(t){var a=Je(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(r,a.a.Component);var t=Qe(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,e)}return function(e,t,r){t&&ze(e.prototype,t),r&&ze(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.onClickClose,r=e.resetForm;return O(),a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message red  _2L2Bw","data-error-msg":!0},a.a.createElement("div",null,a.a.createElement("strong",null,"We're"," experiencing technical issues."),a.a.createElement("p",null,"This means we ","haven't"," been able to process your request. Please try again, and if it still ","doesn't"," work, come back later and we should have it fixed."))),a.a.createElement("div",{className:"popover-btns"},a.a.createElement(Ke.a,{"data-ctatao":!0,onClick:function(){location.href="#/transfers-and-offers",r(),t()}},a.a.createElement("span",{"data-ctatao-txt":!0},"Back to Transfers & offers"),a.a.createElement("span",{className:"sr-only"},". Close balance transfers offer dialog."))))}}]),r}();Xe.propTypes={onClickClose:c.a.func,resetForm:c.a.func};var $e=Object(A.b)(null,function(e,t){return{resetForm:function(){return e(Object(L.m)(t.name))},onClickClose:function(){return e(Object(Ve.a)(!1))}}})(Xe),Ze=function(e){var t=e.onClickClose,r=e.directDebit,o=e.service;if(O(),o){var c=r?function(e){switch(e){case"1":return{color:"blue",mainText:"You currently pay the minimum amount each month.",subText:a.a.createElement("span",null,"You may want to ",a.a.createElement("a",{href:y.a.directDebit.link},"amend your Direct Debit."))};case"2":return{color:"red",mainText:"Your Direct Debit is set to pay your total balance back in full on the next payment.",subText:a.a.createElement("span",null,a.a.createElement("a",{href:y.a.directDebit.link},"Amend your Direct Debit")," ","to stop this happening.")};default:return{color:"blue",mainText:"Your Direct Debit pays a set amount of your balance each month.",subText:a.a.createElement("span",null,"You may want to ",a.a.createElement("a",{href:y.a.directDebit.link},"amend your Direct Debit."))}}}(r):null;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message green _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"We're processing your request"))),a.a.createElement("div",null,a.a.createElement("p",null,"Most transfers made on a working day before 7pm will reach your bank or other lender by the end of the next working day."),a.a.createElement("p",null,"We occasionally carry out ",a.a.createElement("strong",null,"extra security checks"),", which may take a little more time."),a.a.createElement("p",null,"For updates on the progress of your transfer, check your recent transactions on the account summary page."),c&&a.a.createElement("div",{className:"well bc-well message ".concat(c.color)+" _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,c.mainText)),a.a.createElement("p",null,c.subText)),a.a.createElement("div",{className:"popover-btns"},a.a.createElement("button",{className:"btn btn-block",onClick:t},"Got it"))))}return a.a.createElement($e,null)};Ze.propTypes={offer:c.a.object,interestRatePromotional:c.a.number,offerDurationEnd:c.a.number,onClickClose:c.a.func,directDebit:c.a.string,service:c.a.bool};var et=Object(A.b)(function(e){return{directDebit:F()(e,"directDebitAndServiceReducers.directDebit"),service:F()(e,"directDebitAndServiceReducers.service")}},function(e){return{onClickClose:function(){e(Object(Ve.a)(!1)),e(Object(B.d)())}}})(Ze),tt=r(192),rt=r(14);function nt(e){"@babel/helpers - typeof";return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=st(e);if(t){var a=st(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lt(e)}(this,r)}}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(r,a.a.Component);var t=it(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={showFormEnd:!1},n.dataLayerTriggered=!1,n.prevCustomFunction=n.prevCustomFunction.bind(lt(n)),n}return function(e,t,r){t&&ot(e.prototype,t),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidUpdate",value:function(){"success"===this.props.showFormEnd&&(this.setState({showFormEnd:"success"}),!1===this.dataLayerTriggered&&(this.dataLayerTriggered=!0,Object(rt.a)({event_method:"popupform",event_type:"impression",event_label:"".concat(this.props.name.replace("-","|"),":Success"),event_section:"Transfers and Offers"})))}},{key:"prevCustomFunction",value:function(){return this.props.setHidePopover(),!0}},{key:"render",value:function(){var e=this.state.showFormEnd,t=this.props,r=t.name,o=t.offer,c=t.screenState;return a.a.createElement(n.Fragment,null,!e&&!c&&a.a.createElement(G.a,at({name:r,steps:[Re,Me,He],prevText:"Cancel",prevCustomFunction:this.prevCustomFunction,nextCustomFunction:this.nextCustomFunction,rest:{offer:o},destroyFormOnUnmount:!0,unMount:this.prevCustomFunction},this.props,{isPopover:!0,showPrev:!0,noValidate:!0})),c===Ee&&a.a.createElement($e,null),"success"===e&&a.a.createElement(et,at({prevCustomFunction:this.prevCustomFunction},this.props)))}}]),r}();ut.propTypes={onSubmit:c.a.func.isRequired,setHidePopover:c.a.func,name:c.a.string,showFormEnd:c.a.string,offer:c.a.object.isRequired,screenState:c.a.string};var ft=Object(A.b)(function(e,t){return{activeAccount:F()(e,"globalReducer.activeAccount"),serverErrorCode:F()(e,"wizard.".concat(t.name,".data.serverErrorCode")),screenState:Object(tt.c)(e)}},function(e){return{setHidePopover:function(){return e(Object(Ve.a)())},onMount:function(){return O()}}})(ut),mt=Object(A.b)(function(e,t){return{showFormEnd:F()(e,"wizard.".concat(t.name,".data.showFormEnd"))}},function(e,t){return{onSubmit:function(e,r){return function(n){return n(De(e,r,t))}}}})(ft),pt=(r(1338),function(e){var t=e.offer,r=e.type,n=e.promotionalPeriodEnd,o=e.onClickClose;return a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:12,md:8,className:"_3KNSS"},a.a.createElement(z,{id:t.offerId,type:r,offer:t,name:t.offerType+"-"+t.offerId,triggerTitle:"Get offer",onClickClose:o},a.a.createElement(mt,{id:t.offerId,name:t.offerType+"-"+t.offerId,type:r,offer:t})),a.a.createElement("p",{className:"_3ni8V","data-opt-in":!0},"Apply by: ",h(!1,n))))});pt.propTypes={globalStyles:c.a.object,offer:c.a.object,useSpend:c.a.bool,type:c.a.string,promotionalPeriodEnd:c.a.number,digitalEndDate:c.a.number,onClickClose:c.a.func};var dt=pt,bt=["offer","activeAccount"];function yt(){return(yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ht(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var vt=function(e){var t=e.offer,r=t.interestRatePromotional,o=t.offerDurationEnd,c=e.activeAccount,i=c.accountName,l=c.accountLastDigits,s=ht(e,bt);return a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,yt({},s,{"data-form":!0}),a.a.createElement("h3",null,"Remember…",a.a.createElement("span",{className:"sr-only"},", ")),a.a.createElement("p",null,"Your ",r,"% interest period ends on"," ",h(!1,o)),a.a.createElement("p",null,"When it ends we’ll charge you interest at your"," ",a.a.createElement("strong",null,"standard interest rate")," on any remaining balance."," "),a.a.createElement("p",null,"You can find your standard interest rate on your latest statement."),a.a.createElement("p",null,"To keep your ",r,"% interest, you must stay within your credit limit and"," ",a.a.createElement("strong",null,"pay at least the minimum amount on time"),". If you don’t make your minimum monthly payment, we’ll remove this promotional rate from your account and you’ll pay interest at your standard rate."),a.a.createElement("p",null,"This offer is exclusive to you, this account, and this card (",i," ...",l,")."),a.a.createElement("p",null,a.a.createElement("a",{className:"bc-external-link",id:"downloadTandCLink","data-link":!0,href:E(b.t),target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:"sr-only"},"You are on the Important information and restrictions"),a.a.createElement("span",{className:"link"},"Important information and restrictions")," ",a.a.createElement("span",{className:"icon icon-new-window"}))),a.a.createElement(J.a,{name:"spendTandCCheck",id:"spendTandCCheck",label:b.j,"data-checkbox":!0,validate:[$],required:!0})))};vt.propTypes={offer:c.a.object,activeAccount:c.a.object};var gt=vt,Et=["offer","activeAccount"];function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ct=function(e){var t=e.offer,r=t.maximumAmount,o=t.minimumAmount,c=t.endDateSpendDuration,i=t.offerFinanceChargeRate,l=t.billingCyclesOfferDuration,s=e.activeAccount,u=s.accountName,f=s.accountLastDigits,m=wt(e,Et);return a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,Ot({},m,{"data-form":!0}),a.a.createElement("h3",null,"Remember…",a.a.createElement("span",{className:"sr-only"},", ")),a.a.createElement("p",null,"Each ",i,"% interest period ends"," ",l," months after you make purchases worth"," ",r?"£".concat(o," to £").concat(r):"£".concat(o," and over"),"."),a.a.createElement("p",null,"You can keep buying items eligible for this offer until"," ",h(!1,c),"."),a.a.createElement("p",null,"To keep your ",i,"% interest, you must stay within your credit limit and"," ",a.a.createElement("strong",null,"pay at least the minimum amount on time"),". If you"," ","don't"," make your minimum monthly payment, ","we'll"," remove this promotional rate from your account and you’ll pay interest at your standard rate."),a.a.createElement("p",null,"This offer is exclusive to you, this account, and this card (",u," ...",f,")."),a.a.createElement("p",null,a.a.createElement("a",{className:"bc-external-link",id:"downloadTandCLink","data-link":!0,href:E(b.e),target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:"sr-only"},"You are on the Important information and restrictions"),a.a.createElement("span",{className:"link"},"Important information and restrictions")," ",a.a.createElement("span",{className:"icon icon-new-window"}))),a.a.createElement(J.a,{name:"HVTRateTandCCheck",id:"HVTRateTandCCheck",label:b.j,"data-checkbox":!0,validate:[Z],required:!0})))};Ct.propTypes={offer:c.a.object,activeAccount:c.a.object};var jt=Ct,Pt=["offer","activeAccount"];function Tt(){return(Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var xt=function(e){var t=e.offer,r=t.maximumAmount,o=t.minimumAmount,c=t.endDateSpendDuration,i=e.activeAccount,l=i.accountName,s=i.accountLastDigits,u=kt(e,Pt);return a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,Tt({},u,{"data-form":!0}),a.a.createElement("h3",null,"Remember...",a.a.createElement("span",{className:"sr-only"},", ")),a.a.createElement("p",null,"You only get cashback on purchases worth"," ",r?"£".concat(o," to £").concat(r):"£".concat(o," and over"),". Cashback is paid as credit to your account each month."),a.a.createElement("p",null,"You can keep buying items eligible for this offer until"," ",h(!1,c),"."),a.a.createElement("p",null,"To keep your offer active you must stay within your credit limit and"," ",a.a.createElement("strong",null,"pay at least the minimum amount on time"),". If you"," ","don't"," make your minimum monthly payment, ","we'll"," remove this promotional cashback offer from your account."),a.a.createElement("p",null,"To avoid interest charges (and if this doesn’t conflict with other offers you might have) it’s best to pay off your balance in full every month."),a.a.createElement("p",null,"This offer is exclusive to you, this account, and this card (",l," ...",s,")."),a.a.createElement("p",null,a.a.createElement("a",{className:"bc-external-link",id:"downloadTandCLink","data-link":!0,href:E(b.f),target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:"sr-only"},"You are on the Important information and restrictions"),a.a.createElement("span",{className:"link"},"Important information and restrictions")," ",a.a.createElement("span",{className:"icon icon-new-window"}))),a.a.createElement(J.a,{name:"HVTRewardTandCCheck",id:"HVTRewardTandCCheck",label:b.j,"data-checkbox":!0,validate:[ee],required:!0})))};xt.propTypes={offer:c.a.object,activeAccount:c.a.object};var St=xt,Dt=function(e){switch(e.type){case b.f:return a.a.createElement(St,Object.assign({},e));case b.e:return a.a.createElement(jt,Object.assign({},e));default:return a.a.createElement(gt,Object.assign({},e))}};Dt.propTypes={type:c.a.string};var _t=Dt,Nt=function(e){var t=e.offer,r=t.interestRatePromotional,o=t.offerDurationEnd,c=e.directDebitPaymentType;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message green _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Your offer is active"))),a.a.createElement("div",{className:"_3Y-wt"},a.a.createElement("p",null,"Here’s what you’ve picked…"),a.a.createElement("p",null,a.a.createElement("strong",null,r,"% interest on all new purchases until"," ",h(!1,o)))),c===b.c&&a.a.createElement("div",{className:"well bc-well message yellow  _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Your Direct Debit is set to pay your total balance back in full on the next payment."),a.a.createElement("p",null,"You may need to amend your Direct Debit to take advantage of your offer."))),a.a.createElement("div",{className:"popover-btns"},a.a.createElement(Ke.a,{"data-ctadd":!0,onClick:function(){c===b.c?window.location.href=y.a.directDebit.link:window.location.href=y.a.singleAccount.link}},c===b.c?a.a.createElement("span",{"data-ctadd-txt":!0},"Amend Direct Debit"):a.a.createElement("span",{"data-ctatao-txt":!0},"Account summary"),a.a.createElement("span",{className:"sr-only"},". Close purchase offer dialog.")),a.a.createElement("button",{type:"button",className:"btn btn-white","data-ctatao":!0,onClick:function(){location.href="#/transfers-and-offers"}},"Back to Transfers & offers")))};Nt.propTypes={offer:c.a.object,interestRatePromotional:c.a.number,offerDurationEnd:c.a.number,directDebitPaymentType:c.a.string};var At=Nt,Rt=function(e){var t=e.offer,r=t.offerFinanceChargeRate,o=t.endDateSpendDuration,c=t.billingCyclesOfferDuration,i=e.directDebitPaymentType;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message green _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Your offer is active"))),a.a.createElement("div",{className:"_3Y-wt","data-info":!0},a.a.createElement("p",null,"Here’s what you’ve picked…"),a.a.createElement("p",null,a.a.createElement("strong",null,r,"% interest for ",c," ","months every time you make big purchases")),a.a.createElement("p",null,"Your offer ends ",h(!1,o))),i===b.c&&a.a.createElement("div",{className:"well bc-well message yellow  _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Your Direct Debit is set to pay your total balance back in full on the next payment."),a.a.createElement("p",null,"You may need to amend your Direct Debit to take advantage of your offer."))),a.a.createElement("div",{className:"popover-btns"},a.a.createElement(Ke.a,{"data-ctadd":!0,onClick:function(){i===b.c?window.location.href=y.a.directDebit.link:window.location.href=y.a.singleAccount.link}},i===b.c?a.a.createElement("span",{"data-ctadd-txt":!0},"Amend Direct Debit"):a.a.createElement("span",{"data-ctatao-txt":!0},"Account summary"),a.a.createElement("span",{className:"sr-only"},". Close purchase offer dialog.")),a.a.createElement("button",{type:"button",className:"btn btn-white","data-ctatao":!0,onClick:function(){location.href="#/transfers-and-offers"}},"Back to Transfers & offers")))};Rt.propTypes={offer:c.a.object,offerFinanceChargeRate:c.a.number,endDateSpendDuration:c.a.number,directDebitPaymentType:c.a.string,billingCyclesOfferDuration:c.a.number};var Ft=Rt,It=function(e){var t=e.offer,r=t.cashbackPercent,o=t.endDateSpendDuration,c=e.directDebitPaymentType;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message green _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Your offer is active"))),a.a.createElement("div",{className:"_3Y-wt"},a.a.createElement("p",null,"Here’s what you’ve picked…"),a.a.createElement("p",null,a.a.createElement("strong",null,r,"% cashback on all big purchases")),a.a.createElement("p",null,"Your offer ends ",h(!1,o))),c===b.c&&a.a.createElement("div",{className:"well bc-well message yellow  _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Your Direct Debit is set to pay your total balance back in full on the next payment."),a.a.createElement("p",null,"You may need to amend your Direct Debit to take advantage of your offer."))),a.a.createElement("div",{className:"popover-btns"},a.a.createElement(Ke.a,{"data-ctadd":!0,onClick:function(){c===b.c?window.location.href=y.a.directDebit.link:window.location.href=y.a.singleAccount.link}},c===b.c?a.a.createElement("span",{"data-ctadd-txt":!0},"Amend Direct Debit"):a.a.createElement("span",{"data-ctatao-txt":!0},"Account summary"),a.a.createElement("span",{className:"sr-only"},". Close purchase offer dialog.")),a.a.createElement("button",{type:"button",className:"btn btn-white","data-ctatao":!0,onClick:function(){location.href="#/transfers-and-offers"}},"Back to Transfers & offers")))};It.propTypes={offer:c.a.object,cashbackPercent:c.a.number,endDateSpendDuration:c.a.number,directDebitPaymentType:c.a.string};var Bt=It;function Lt(e){"@babel/helpers - typeof";return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Ht(e);if(t){var a=Ht(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(r,a.a.Component);var t=qt(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,e)}return function(e,t,r){t&&Mt(e.prototype,t),r&&Mt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"renderPurchaseForm",value:function(e){switch(e){case b.f:return a.a.createElement(Bt,this.props);case b.e:return a.a.createElement(Ft,this.props);default:return a.a.createElement(At,this.props)}}},{key:"render",value:function(){var e=this.props.type;return a.a.createElement("div",null,this.renderPurchaseForm(e))}}]),r}();Vt.propTypes={setHidePopover:c.a.func,type:c.a.string};var Ut={setHidePopover:Ve.a},Kt=Object(A.b)(null,Ut)(Vt);function Wt(e){"@babel/helpers - typeof";return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Jt(e);if(t){var a=Jt(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gt(e,t)}(r,a.a.Component);var t=Qt(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,e)}return function(e,t,r){t&&zt(e.prototype,t),r&&zt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.onClickClose,r=e.resetForm;return O(),a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message red  _2L2Bw","data-error-msg":!0},a.a.createElement("div",null,a.a.createElement("strong",null,"We're"," experiencing technical issues."),a.a.createElement("p",null,"This means we ","haven't"," been able to process your request."," ","Please try again, and if it still ","doesn't"," work, come back later and we should have it fixed."))),a.a.createElement("div",{className:"popover-btns"},a.a.createElement(Ke.a,{"data-ctatao":!0,onClick:function(){location.href="#/transfers-and-offers",r(),t()}},a.a.createElement("span",{"data-ctatao-txt":!0},"Back to Transfers & offers"),a.a.createElement("span",{className:"sr-only"},". Close purchase offer dialog.")),a.a.createElement("button",{type:"button",className:"btn btn-white","data-ctaas":!0,onClick:function(){window.location.href=y.a.singleAccount.link,r(),t()}},a.a.createElement("span",{"data-ctaas-txt":!0},"Account summary"))))}}]),r}();Xt.propTypes={onClickClose:c.a.func,resetForm:c.a.func};var $t=Object(A.b)(null,function(e,t){return{resetForm:function(){return e(Object(L.m)(t.name))},onClickClose:function(){return e(Object(Ve.a)(!1))}}})(Xt);function Zt(e){"@babel/helpers - typeof";return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rr(e,t){return(rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=or(e);if(t){var a=or(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ar(e)}(this,r)}}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var cr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}(r,a.a.Component);var t=nr(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={showFormEnd:!1},n.prevCustomFunction=n.prevCustomFunction.bind(ar(n)),n}return function(e,t,r){t&&tr(e.prototype,t),r&&tr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidUpdate",value:function(){"success"===this.props.showFormEnd&&this.setState({showFormEnd:"success"})}},{key:"prevCustomFunction",value:function(){return this.props.setHidePopover(),!0}},{key:"render",value:function(){var e=this.state.showFormEnd,t=this.props,r=t.name,o=t.serverErrorCode?[$t]:[_t];return a.a.createElement(n.Fragment,null,!e&&a.a.createElement(G.a,er({name:r,steps:o,prevText:"Cancel",submitText:"Activate offer",prevCustomFunction:this.prevCustomFunction,showPrev:!0},this.props,{destroyFormOnUnmount:!0,unMount:this.prevCustomFunction,noValidate:!0})),"success"===e&&a.a.createElement(Kt,er({prevCustomFunction:this.prevCustomFunction,showPrev:!0},this.props)))}}]),r}();cr.propTypes={onSubmit:c.a.func.isRequired,setHidePopover:c.a.func,name:c.a.string,showFormEnd:c.a.string,serverErrorCode:c.a.any};var ir=Object(A.b)(function(e,t){return{activeAccount:e.globalReducer.activeAccount,directDebitPaymentType:e.directDebitReducer.paymentType,serverErrorCode:F()(e,"wizard.".concat(t.name,".data.serverErrorCode"))}},function(e){return{setHidePopover:function(){return e(Object(Ve.a)())},onMount:function(){return O()}}})(cr),lr={ERR_001:"Please enter the relevant character to continue."},sr=["offerDescription","offerId","digitalEndDate","spendStartDate"];function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach(function(t){mr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dr(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function br(e){var t=e.formName;(0,e.dispatch)(Object(L.r)(t,{showFormEnd:"success"}))}function yr(e){var t=e.formName,r=e.status;(0,e.dispatch)(Object(L.r)(t,{serverErrorCode:r}))}var hr=function(e,t,r,n){return function(){var r=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function c(e){dr(o,n,a,c,i,"next",e)}function i(e){dr(o,n,a,c,i,"throw",e)}c(void 0)})}}(regeneratorRuntime.mark(function r(a,o){var c,i,l,s,u,f,m;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c={},n.offerDescription,i=n.offerId,n.digitalEndDate,l=n.spendStartDate,s=pr(n,sr),c.spendTandCCheck=e.spendTandCCheck,c.spendStartDate=l,Object.assign(c,fr({},s)),u="/ecom/as2/api/offers/"+i,f="post",m=c,"S"===n.offerType&&(u=je,f="postDataOld",m={data:m=JSON.stringify({selectedOfferId:i,selectedOfferType:n.offerType,termsAndConditions:e.spendTandCCheck})}),r.abrupt("return",a(Object(L.q)({formValues:m,formName:t,onSuccess:function(e){(200===e.response.response.status&&"S"!==n.offerType||200===e.response.response.status&&e.response.data.serviceAvailableFlag&&"S"===n.offerType)&&br(e)},request:{type:f,endPoint:u},errors:lr,getState:o,shouldThrowError:function(e){(500===e.response.response.status||200===e.response.response.status&&!e.response.data.serviceAvailableFlag&&"S"===n.offerType)&&yr(e)}})));case 10:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}()},vr=Object(A.b)(function(e,t){return{showFormEnd:F()(e,"wizard.".concat(t.name,".data.showFormEnd"))}},function(e,t){return{onSubmit:function(e,r){return function(n){return n(hr(e,r,t.id,t.offer))}}}})(ir),gr=function(e){var t=e.offer,r=e.useSpend,n=e.type,o=e.promotionalPeriodEnd,c=e.digitalEndDate,i=e.groupBy,s=e.onClickClose;return a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:12,md:8,className:"_3KNSS"},a.a.createElement(z,{id:t.offerId,type:n,offer:t,name:t.offerType+"-"+t.offerId,groupBy:i,triggerTitle:"Get offer",onClickClose:s},a.a.createElement(vr,{id:t.offerId,name:t.offerType+"-"+t.offerId,type:n,offer:t})),a.a.createElement("p",{className:"_3ni8V","data-opt-in":!0},"Opt in by:"," ",h(!1,r?o:c))))};gr.propTypes={globalStyles:c.a.object,offer:c.a.object,useSpend:c.a.bool,type:c.a.string,promotionalPeriodEnd:c.a.number,digitalEndDate:c.a.number,groupBy:c.a.string,onClickClose:c.a.func};var Er=gr,Or=r(19),wr=function(e){var t=e.interestRatePromotional,r=e.offerDescription,n=e.feePercentage,o=e.telephoneNumber;return a.a.createElement("div",null,a.a.createElement("div",{className:"well bc-well message blue _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Sorry, ","it's"," not possible to complete this type of transfer online right now."))),a.a.createElement("p",null,"Unfortunately, we are currently unable to complete your application for this offer of"," ",a.a.createElement("strong",null,t,"% interest ",r," with a fee of"," ",n,"%"," ")," ","online."),a.a.createElement("p",null,a.a.createElement("strong",null,"Transferring to a Barclays current account?")),a.a.createElement("p",null,"We can do this over the phone. Please call us on"," ",k.a.PhoneNumber(o)," (",a.a.createElement(Or.a,{link:"callCharges"},"call charges info"),") with these to hand:"),a.a.createElement("ul",null,a.a.createElement("li",null,"The Barclaycard ","you'd"," like to transfer from"),a.a.createElement("li",null,"The debit card, sort code and account number for the Barclays current account you want to transfer the money to")),a.a.createElement("p",null,a.a.createElement("strong",null,"Transferring to another bank?")),a.a.createElement("p",null,"Please try again later."),a.a.createElement("p",null,"We apologise for the inconvenience."))};wr.propTypes={interestRatePromotional:c.a.string,offerDescription:c.a.string,feePercentage:c.a.number,telephoneNumber:c.a.string};var Cr=wr,jr=function(e){var t=e.interestRatePromotional,r=e.offerDescription,n=e.feePercentage,o=e.telephoneNumber;return a.a.createElement("div",null,a.a.createElement("div",{className:"well bc-well message blue _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Sorry, ","we'll"," need to complete this over the phone."))),a.a.createElement("p",null,"Unfortunately, we are currently unable to complete your application for this offer of"," ",a.a.createElement("strong",null,t,"% interest ",r," with a fee of"," ",n,"%"," ")," ","online."),a.a.createElement("p",null,"But ","don't"," worry, ","we'll"," be able to sort it out over the phone, on"," ",k.a.PhoneNumber(o)," (",a.a.createElement(Or.a,{link:"callCharges"},"call charges info"),")."),a.a.createElement("p",null,a.a.createElement("strong",null,"You will need")),a.a.createElement("ul",null,a.a.createElement("li",null,"The Barclaycard ","you'd"," like to transfer from"),a.a.createElement("li",null,"The debit card, sort code and account number for the current account"," ","you'd"," like to transfer to")))};jr.propTypes={interestRatePromotional:c.a.string,offerDescription:c.a.string,feePercentage:c.a.number,telephoneNumber:c.a.string};var Pr=jr;function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var kr=function(e){var t=Tr({},e),r=t.rest.offer,n=r.interestRatePromotional,o=r.offerDescription,c=r.feePercentage,i=r.minimumAmount,l=r.maximumAmount;t.t2bAccountNumber;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,Tr({},t,{"data-form":!0}),a.a.createElement("div",{className:"well bc-well message yellow _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"We can only do transfers to Barclays current accounts right now.")," "),a.a.createElement("p",null,"Sorry for the inconvenience.")),a.a.createElement("h3",null,"Money transfer details"),a.a.createElement("p",null,"The offer you have selected is"," ",a.a.createElement("strong",null,n,"% interest ",o," with a fee of"," ",c,"%."))," ","You can transfer between"," ",a.a.createElement("strong",null,k.a.CurrencyCustom(i,"£")," and"," ",k.a.CurrencyCustom(l,"£")),a.a.createElement("p",null),a.a.createElement(J.d,{name:"t2bAmountToTransfer",id:"t2bAmountToTransfer",label:"Amount:",validate:[re("Please enter a transfer amount between ".concat(k.a.CurrencyCustom(i,"£")," and ").concat(k.a.CurrencyCustom(l,"£"))),ie(i,l)],normalize:me,helpText:"Your transfer amount must only contain numbers, and can include a decimal amount",required:!0}),a.a.createElement(J.d,{name:"t2bAccountNumber",id:"t2bAccountNumber",label:"Your account number:",validate:[re("Please enter the 8 digit account number of the account you want to transfer to."),ce()],normalize:pe.l,helpText:"Please enter the 8 digit account number on your debit card or statement (use numbers only)",required:!0}),a.a.createElement(J.c,{name:"t2bSortCode",id:"t2bSortCode",type:"number",delimiter:"-",label:"Sort code:",validate:ae(),helpText:"Please enter the 6 digit sort code on your debit card or statement (use numbers only)",inputs:[{name:"sortcode1",autoTabOnLength:2,width:"sortcode",constantvalue:20,normalize:pe.h},{name:"sortcode2",autoTabOnLength:2,width:"sortcode",normalize:pe.h},{name:"sortcode3",width:"sortcode",normalize:pe.h}],required:!0}),a.a.createElement(J.d,{name:"t2bDebitCardNumber",id:"t2bDebitCardNumber",label:"Debit card number:",validate:[re("Please enter the long number on the front of your debit card, without spaces or symbols."),oe(12,19,"Please enter the long number on the front of your debit card, without spaces or symbols."),le],normalize:pe.g,helpText:"Please enter the long number on the front of your debit card, without spaces or symbols.",required:!0}),a.a.createElement(J.a,{name:"ukAccountFlag",id:"ukAccountFlag",label:"This is a UK current account in my name",validate:[ne("Please confirm this account is in your name.")],required:!0})))};kr.propTypes={interestRatePromotional:c.a.string,offerDurationEnd:c.a.number,feePercentage:c.a.number,minimumAmount:c.a.number,maximumAmount:c.a.number,rest:c.a.object,t2bAccountNumber:c.a.string};var xr=kr,Sr={ERR_001:"Please enter the relevant character to continue.",5021:"We don't recognise that sort code. Please try again using numbers only.",5022:"Sorry, we're not able to verify your sort code. Please check and try again.",5023:"This sort code isn't valid. Please try again.",5024:"Sorry, we're not able to verify your sort code. Please check and try again.",5031:"Please enter the 8 digit account number of the account you want to transfer to.",5032:"Sorry, we're not able to verify your account number. Please check and try again.",5041:"Please enter the long number on the front of your debit card, without spaces or symbols.",5042:"We don't recognise that debit card number. Please check the long number on the front of your card and try again.",5100:"Please confirm this account is in your name."};function Dr(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function _r(e){var t=e.formName,r=e.dispatch,n=e.response;r(Object(B.c)(n.data.directDebit,n.data.serviceAvailableFlag)),r(Object(L.r)(t,{showFormEnd:"success"}))}function Nr(e){(0,e.dispatch)(Object(ge.d)(Oe))}function Ar(e){var t=e.formName,r=e.status;(0,e.dispatch)(Object(L.r)(t,{serverErrorCode:r}))}var Rr=function(e,t,r){return function(){var n=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function c(e){Dr(o,n,a,c,i,"next",e)}function i(e){Dr(o,n,a,c,i,"throw",e)}c(void 0)})}}(regeneratorRuntime.mark(function n(a){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=Ce,e=JSON.stringify({selectedOfferId:r.id,selectedOfferType:r.offer.offerType,hashValue:"abcd1111111",termsAndConditions:e.accept,t2bAmountToTransfer:e.t2bAmountToTransfer,t2bDebitCardNumber:e.t2bDebitCardNumber,t2bAccountNumber:e.t2bAccountNumber,t2bSortCode:e.t2bSortCode,ukAccountFlag:e.ukAccountFlag}),e={data:e},n.abrupt("return",a(Object(L.q)({formValues:e,formName:t,onSuccess:function(e){200===e.response.response.status&&e.response.data.serviceAvailableFlag&&_r(e)},request:{type:"postDataOld",endPoint:o},errors:Sr,shouldThrowError:function(e){(500===e.response.response.status||200===e.response.response.status&&!e.response.data.serviceAvailableFlag)&&Nr(e)}})));case 5:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},Fr=function(e){if(200===e.response.response.status)if(e.response.data.serviceAvailableFlag){var t=e.response.data.errorList,r=[];if("error"===e.response.data.status)return t.map(function(e){switch(e.fieldName){case"t2bAccountNo":r.push({fieldName:"t2bAccountNumber",errorCode:e.errorCode});break;case"t2bSortCode":r.push({fieldName:"t2bSortCode",errorCode:e.errorCode});break;default:r.push({fieldName:e.fieldName,errorCode:e.errorCode})}}),r}else Ar(e);else Ar(e)},Ir=function(e,t,r){return function(n){var a=r.rest.offer,o=a.offerId,c=a.offerType;return e={data:e=JSON.stringify({selectedOfferId:o,selectedOfferType:c,hashValue:"abcd12b34c5",t2bAmountToTransfer:e.t2bAmountToTransfer,t2bDebitCardNumber:e.t2bDebitCardNumber,t2bAccountNumber:e.t2bAccountNumber,t2bSortCode:e.t2bSortCode,ukAccountFlag:e.ukAccountFlag})},n(Object(L.a)({formValues:e,formName:t,request:{type:"postDataOld",endPoint:we},errors:Sr,shouldThrowError:function(e){return Fr(e)}}))}},Br=Object(A.b)(function(e,t){return{t2bAccountNo:F()(e,"form.".concat(t.name,".values.t2bAccountNo")),t2bDebitCardNumber:F()(e,"form".concat(t.name,".values.mtDebitNum")),selectedOfferId:F()(e)}},function(){return{asyncValidate:Ir,shouldAsyncValidate:"next"}})(xr),Lr=["telephoneNumber"];function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Yr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var qr=function(e){var t=e.telephoneNumber,r=Yr(e,Lr),n=r.rest.offer,o=n.interestRatePromotional,c=n.offerDescription,i=n.feePercentage,l=n.minimumAmount,s=n.maximumAmount;r.t2bAccountNumber;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,Mr({},r,{"data-form":!0}),a.a.createElement("div",{className:"well bc-well message yellow _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"We can only do transfers to Barclays current accounts online right now.")," ")),a.a.createElement("p",{className:"_15CCY"},"To transfer to an account you have elsewhere, please give us a call on"," ",k.a.PhoneNumber(t)," (",a.a.createElement(Or.a,{link:"callCharges"},"call charges info"),")."),a.a.createElement("h3",null,"Money transfer details"),a.a.createElement("p",null,"The offer you have selected is"," ",a.a.createElement("strong",null,o,"% interest ",c," with a fee of"," ",i,"%."))," ","You can transfer between"," ",a.a.createElement("strong",null,k.a.CurrencyCustom(l,"£")," and"," ",k.a.CurrencyCustom(s,"£")),a.a.createElement(J.d,{name:"t2bAmountToTransfer",id:"t2bAmountToTransfer",label:"Amount:",validate:[re("Please enter a transfer amount between ".concat(k.a.CurrencyCustom(l,"£")," and ").concat(k.a.CurrencyCustom(s,"£"))),ie(l,s)],normalize:me,helpText:"Your transfer amount must only contain numbers, and can include a decimal amount",required:!0}),a.a.createElement(J.d,{name:"t2bAccountNumber",id:"t2bAccountNumber",label:"Your account number:",validate:[re("Please enter the 8 digit account number of the account you want to transfer to."),ce()],normalize:pe.l,helpText:"Please enter the 8 digit account number on your debit card or statement (use numbers only)",required:!0}),a.a.createElement(J.c,{name:"t2bSortCode",id:"t2bSortCode",type:"number",delimiter:"-",label:"Sort code:",validate:ae(),helpText:"Please enter the 6 digit sort code on your debit card or statement (use numbers only)",inputs:[{name:"sortcode1",autoTabOnLength:2,width:"sortcode",constantvalue:20,normalize:pe.h,required:!0,dataTestId:"sortcode1"},{name:"sortcode2",autoTabOnLength:2,width:"sortcode",normalize:pe.h,required:!0,dataTestId:"sortcode2"},{name:"sortcode3",width:"sortcode",normalize:pe.h,required:!0,dataTestId:"sortcode3"}]}),a.a.createElement(J.d,{name:"t2bDebitCardNumber",id:"t2bDebitCardNumber",label:"Debit card number:",validate:[re("Please enter the long number on the front of your debit card, without spaces or symbols."),oe(12,19,"Please enter the long number on the front of your debit card, without spaces or symbols."),le],normalize:pe.g,helpText:"Please enter the long number on the front of your debit card, without spaces or symbols.",required:!0}),a.a.createElement(J.a,{name:"ukAccountFlag",id:"ukAccountFlag",label:"This is a UK current account in my name",validate:[ne("Please confirm this account is in your name.")],required:!0})))};qr.propTypes={interestRatePromotional:c.a.number,offerDurationEnd:c.a.number,feePercentage:c.a.number,telephoneNumber:c.a.string,rest:c.a.object,t2bAccountNumber:c.a.any};var Hr=qr,Vr=function(e,t,r){return function(n){var a=r.rest.offer,o=a.offerId,c=a.offerType;return e={data:e=JSON.stringify({selectedOfferId:o,selectedOfferType:c,hashValue:"abcd12b34c5",t2bAmountToTransfer:e.t2bAmountToTransfer,t2bDebitCardNumber:e.t2bDebitCardNumber,t2bAccountNumber:e.t2bAccountNumber,t2bSortCode:e.t2bSortCode,ukAccountFlag:e.ukAccountFlag})},n(Object(L.a)({formValues:e,formName:t,request:{type:"postDataOld",endPoint:we},errors:Sr,shouldThrowError:function(e){return Fr(e)}}))}},Ur=Object(A.b)(function(e,t){return{t2bAccountNo:F()(e,"form.".concat(t.name,".values.t2bAccountNo")),t2bDebitCardNumber:F()(e,"form".concat(t.name,".values.mtDebitNum")),selectedOfferId:F()(e)}},function(){return{asyncValidate:Vr,shouldAsyncValidate:"next"}})(Hr);function Kr(){return(Kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Wr=function(e){var t=Kr({},e),r=t.rest.offer,n=r.interestRatePromotional,o=r.offerDescription,c=r.feePercentage,i=r.minimumAmount,l=r.maximumAmount;t.t2bAccountNumber;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,Kr({},t,{"data-form":!0}),a.a.createElement("h3",null,"Money transfer details"),a.a.createElement("p",null,"The offer you have selected is"," ",a.a.createElement("strong",null,n,"% interest ",o," with a fee of"," ",c,"%."))," ","You can transfer between"," ",a.a.createElement("strong",null,k.a.CurrencyCustom(i,"£")," and"," ",k.a.CurrencyCustom(l,"£")),a.a.createElement("p",null),a.a.createElement(J.d,{name:"t2bAmountToTransfer",id:"t2bAmountToTransfer",label:"Amount:",validate:[re("Please enter a transfer amount between ".concat(k.a.CurrencyCustom(i,"£")," and ").concat(k.a.CurrencyCustom(l,"£"))),ie(i,l)],normalize:me,helpText:"Your transfer amount must only contain numbers, and can include a decimal amount",required:!0}),a.a.createElement(J.d,{name:"t2bAccountNumber",id:"t2bAccountNumber",label:"Your account number:",validate:[re("Please enter the 8 digit account number of the account you want to transfer to."),ce()],normalize:pe.l,helpText:"Please enter the 8 digit account number on your debit card or statement (use numbers only)",required:!0}),a.a.createElement(J.c,{name:"t2bSortCode",id:"t2bSortCode",type:"number",delimiter:"-",label:"Sort code:",validate:ae(),helpText:"Please enter the 6 digit sort code on your debit card or statement (use numbers only)",inputs:[{name:"sortcode1",autoTabOnLength:2,width:"sortcode",type:"text",normalize:pe.h,required:!0},{name:"sortcode2",autoTabOnLength:2,width:"sortcode",normalize:pe.h,required:!0},{name:"sortcode3",width:"sortcode",normalize:pe.h,required:!0}]}),a.a.createElement(J.d,{name:"t2bDebitCardNumber",id:"t2bDebitCardNumber",label:"Debit card number:",validate:[re("Please enter the long number on the front of your debit card, without spaces or symbols."),oe(12,19,"Please enter the long number on the front of your debit card, without spaces or symbols."),le],normalize:pe.g,helpText:"Please enter the long number on the front of your debit card, without spaces or symbols.",required:!0}),a.a.createElement(J.a,{name:"ukAccountFlag",id:"ukAccountFlag",label:"This is a UK current account in my name",validate:[ne("Please confirm this account is in your name.")],required:!0})))};Wr.propTypes={interestRatePromotional:c.a.string,offerDurationEnd:c.a.number,feePercentage:c.a.number,minimumAmount:c.a.number,maximumAmount:c.a.number,rest:c.a.object,t2bAccountNumber:c.a.string};var zr=Wr,Gr=function(e,t,r){return function(n){var a=r.rest.offer,o=a.offerId,c=a.offerType;return e={data:e=JSON.stringify({selectedOfferId:o,selectedOfferType:c,hashValue:"abcd12b34c5",t2bAmountToTransfer:e.t2bAmountToTransfer,t2bDebitCardNumber:e.t2bDebitCardNumber,t2bAccountNumber:e.t2bAccountNumber,t2bSortCode:e.t2bSortCode,ukAccountFlag:e.ukAccountFlag})},n(Object(L.a)({formValues:e,formName:t,request:{type:"postDataOld",endPoint:we},errors:Sr,shouldThrowError:function(e){return Fr(e)}}))}},Qr=Object(A.b)(function(e,t){return{t2bAccountNo:F()(e,"form.".concat(t.name,".values.t2bAccountNo")),t2bDebitCardNumber:F()(e,"form".concat(t.name,".values.mtDebitNum")),selectedOfferId:F()(e)}},function(){return{asyncValidate:Gr,shouldAsyncValidate:"next"}})(zr),Jr=function(e){var t=e.interestRatePromotional,r=e.offerDescription,n=e.feePercentage;return a.a.createElement("div",null,a.a.createElement("div",{className:"well bc-well message yellow _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"Sorry, ","we'll"," need to complete this over the phone."))),a.a.createElement("p",null,"We're"," not able to complete your transfer as you have in-credit balance on your account."),a.a.createElement("p",null,"To arrange a refund, please ",a.a.createElement(Or.a,{link:"contactUs"},"call us"),"."),a.a.createElement("p",null,"The day after we refund you, you can request this transfer online again at"," ",a.a.createElement("strong",null,t,"% interest ",r," with a fee of"," ",n,"%"),"."))};Jr.propTypes={interestRatePromotional:c.a.string,offerDescription:c.a.string,feePercentage:c.a.number};var Xr=Jr,$r="VCC_BARCLAYS_WITHOUT_CODE_NON_BARCLAYS_NO_TRANSFER_ALLOWED",Zr="RESTRICTED_TO_BARCLAYS_WITHOUT_CODE_NON_BARCLAYS_NO_TRANSFER_ALLOWED",en=["t2bAmountToTransfer","t2bAccountNumber","t2bDebitCardNumber","t2bSortCode"];function tn(){return(tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var nn=function(e){var t=e.t2bAmountToTransfer,r=e.t2bAccountNumber,n=e.t2bDebitCardNumber,o=e.t2bSortCode,c=rn(e,en),i=c.rest.offer,s=i.feePercentage,f=i.interestRatePromotional,m=i.offerDescription,p=i.minimumAmount,d=i.maximumAmount,b=Number.parseFloat((t*s/100).toFixed(2)),y=(Number.parseFloat(t)+Number.parseFloat(b)).toFixed(2);return c.prevCustomFunction=void 0,c.prevText="Back",c.nextText="Confirm",a.a.createElement(a.a.Fragment,null,a.a.createElement(Q.a,tn({},c,{"data-form":!0}),a.a.createElement("h3",null,"Money transfer details "),a.a.createElement("p",null,"The offer you have selected is"," ",a.a.createElement("strong",null,f,"% interest ",m," with a fee of"," ",s,"%.")),a.a.createElement("p",{className:"_15CCY"},"You can transfer between"," ",a.a.createElement("strong",null,k.a.CurrencyCustom(p,"£")," to"," ",k.a.CurrencyCustom(d,"£"))),a.a.createElement("h3",null,"Check and confirm"),a.a.createElement("p",null,"Please check these details carefully, as it may not be possible to recover money ","that's"," been paid to the wrong account."),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Transfer amount:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CurrencyCustom(t,"£")))),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Account number:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,r))),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Sort code:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.Sortcode(o)))),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Debit card number:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CardNumber(n)))),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},"Money transfer fee:"),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CurrencyCustom(b,"£")))),a.a.createElement("p",null),a.a.createElement(u.a,null),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:7,sm:7,md:7},a.a.createElement("strong",null,"Total amount:")),a.a.createElement(l.a,{xs:5,sm:5,md:5},a.a.createElement("strong",null,k.a.CurrencyCustom(y,"£"))))))};nn.propTypes={offer:c.a.object,t2bAmountToTransfer:c.a.string,t2bDebitCardNumber:c.a.string,t2bAccountNumber:c.a.string,t2bSortCode:c.a.string,rest:c.a.shape({offer:c.a.object})};var an=Object(A.b)(function(e,t){return{t2bAccountNumber:F()(e,"form.".concat(t.name,".values.t2bAccountNumber")),t2bAmountToTransfer:F()(e,"form.".concat(t.name,".values.t2bAmountToTransfer")),t2bDebitCardNumber:F()(e,"form.".concat(t.name,".values.t2bDebitCardNumber")),t2bSortCode:F()(e,"form.".concat(t.name,".values.t2bSortCode"))}},null)(nn);function on(){return(on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var cn=function(e){var t=on({},e);return t.prevCustomFunction=void 0,t.prevText="Back",t.nextText="Submit",a.a.createElement(n.Fragment,null,a.a.createElement(Q.a,t,a.a.createElement("h3",null,"Remember..."),a.a.createElement("p",null,"Your promotional interest rate only applies to the amount that you’ve transferred. You’ll still receive your usual interest-free period for any new purchases you make, provided you pay off your main balance (excluding promotional balances, such as this money transfer) in full by your payment due date."),a.a.createElement("p",null,"If you go over your credit limit, miss a payment, or pay less than your minimum monthly payments, your offer will end early and we’ll charge interest on your remaining balance at your standard rate."),a.a.createElement("p",null,"You should aim to repay the money you’ve borrowed before your offer ends. Otherwise, we’ll move it to your standard balance and charge interest at your standard rate."),"This offer is exclusive to you, this account, and this card [",t.activeCard," ",t.lastDigits,"].",a.a.createElement("p",null),a.a.createElement("p",null,a.a.createElement("a",{"data-link":!0,href:E(b.l),className:"bc-external-link",target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:"sr-only"},"Learn about the restrictions and limitations that apply to this offer. Opens a new window"),a.a.createElement("span",{className:"link"},"Important information and restrictions")," ",a.a.createElement("span",{className:"icon icon-new-window"}))," "),a.a.createElement(J.a,{name:"accept",id:"accept",label:"I've read the above",validate:[te]})))};cn.propTypes={activeCard:c.a.string,lastDigits:c.a.string};var ln=Object(A.b)(function(e){return{activeCard:F()(e,"globalReducer.activeAccount.accountName"),lastDigits:F()(e,"globalReducer.activeAccount.accountLastDigits")}})(cn);function sn(e){"@babel/helpers - typeof";return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fn(e,t){return(fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=pn(e);if(t){var a=pn(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fn(e,t)}(r,a.a.Component);var t=mn(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,e)}return function(e,t,r){t&&un(e.prototype,t),r&&un(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e=this.props,t=e.onClickClose,r=e.resetForm;return O(),a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message red  _2L2Bw","data-error-msg":!0},a.a.createElement("div",null,a.a.createElement("strong",null,"We're"," experiencing technical issues."),a.a.createElement("p",null,"This means we ","haven't"," been able to process your request. Please try again, and if it still ","doesn't"," work, come back later and we should have it fixed."))),a.a.createElement("div",{className:"popover-btns"},a.a.createElement(Ke.a,{"data-ctatao":!0,onClick:function(){location.href="#/transfers-and-offers",r(),t()}},a.a.createElement("span",{"data-ctatao-txt":!0},"Back to Transfers & offers"),a.a.createElement("span",{className:"sr-only"},". Close money transfers offer dialog."))))}}]),r}();dn.propTypes={onClickClose:c.a.func,resetForm:c.a.func};var bn=Object(A.b)(null,function(e,t){return{resetForm:function(){return e(Object(L.m)(t.name))},onClickClose:function(){return e(Object(Ve.a)(!1))}}})(dn),yn=["offer","t2bRestrictedReason","onClickClose","telephoneNumber","serverErrorCode","screenState"];function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vn(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var gn=function(e){switch(e){case $r:return{element:Cr,formRequired:!1};case"VCC_BARCLAYS_WITHOUT_CODE_NON_BARCLAYS_WITHOUT_CODE":return{element:Pr,formRequired:!1};case Zr:return{element:Br,formRequired:!0};case"RESTRICTED_TO_BARCLAYS_WITHOUT_CODE_NON_BARCLAYS_WITHOUT_CODE":return{element:Ur,formRequired:!0};case"CREDIT_REFUND":return{element:Xr,formRequired:!1};default:return{element:Qr,formRequired:!0}}},En=function(e){var t=e.offer,r=e.t2bRestrictedReason,o=e.onClickClose,c=e.telephoneNumber,i=e.serverErrorCode,l=e.screenState,s=vn(e,yn),u=gn(r).element,f=gn(r).formRequired,m=i?[bn]:[u,an,ln];return a.a.createElement(n.Fragment,null,f&&!l&&a.a.createElement(n.Fragment,null,a.a.createElement(G.a,hn({},s,{name:s.name,steps:m,prevText:"Cancel",telephoneNumber:c,rest:{offer:t},showPrev:!0}))," "),!f&&a.a.createElement(n.Fragment,null,a.a.createElement(u,{interestRatePromotional:t.interestRatePromotional,offerDescription:t.offerDescription,feePercentage:t.feePercentage,telephoneNumber:c,onClickClose:o,minimumAmount:t.minimumAmount,maximumAmount:t.maximumAmount}),a.a.createElement("div",{className:"popover-btns"},a.a.createElement("button",{className:"btn btn-block",onClick:o},"Got it"))),l===Oe&&a.a.createElement(bn,null))};En.propTypes={offer:c.a.object,t2bRestrictedReason:c.a.string,telephoneNumber:c.a.string,onClickClose:c.a.func,name:c.a.string,serverErrorCode:c.a.any,screenState:c.a.string};var On=Object(A.b)(function(e,t){return{t2bRestrictedReason:F()(e,"transfersAndOffers.offers.t2BFlags.t2bRestrictedReason"),telephoneNumber:F()(e,"transfersAndOffers.offers.t2BFlags.telephoneNumber"),serverErrorCode:F()(e,"wizard.".concat(t.name,".data.serverErrorCode"))}},function(e){return{onClickClose:function(){e(Object(Ve.a)(!1)),e(Object(B.d)())}}})(En),wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(void 0).props,t=e.onClickClose,r=e.directDebit,o=e.service;if(O(),o){var c=r?function(e){switch(e){case"1":return{color:"blue",mainText:"You currently pay the minimum amount each month.",subText:a.a.createElement("span",null,"You may want to ",a.a.createElement("a",{href:y.a.directDebit.link},"amend your Direct Debit."))};case"2":return{color:"red",mainText:"Your Direct Debit is set to pay your total balance back in full on the next payment.",subText:a.a.createElement("span",null,a.a.createElement("a",{href:y.a.directDebit.link},"Amend your Direct Debit")," ","to stop this happening.")};default:return{color:"blue",mainText:"Your Direct Debit pays a set amount of your balance each month.",subText:a.a.createElement("span",null,"You may want to ",a.a.createElement("a",{href:y.a.directDebit.link},"amend your Direct Debit."))}}}(r):null;return a.a.createElement(n.Fragment,null,a.a.createElement("div",{className:"well bc-well message green _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,"We're processing your request"))),a.a.createElement("div",null,a.a.createElement("p",null,"Most transfers made on a working day before 4pm will reach your bank or other lender by the end of the next working day."),a.a.createElement("p",null,"We occasionally carry out ",a.a.createElement("strong",null,"extra security checks"),", which may take a little more time."),a.a.createElement("p",null,"For updates on the progress of your transfer, check your recent transactions on the account summary page."),c&&a.a.createElement("div",{className:"well bc-well message ".concat(c.color)+" _2L2Bw"},a.a.createElement("p",null,a.a.createElement("strong",null,c.mainText)),a.a.createElement("p",null,c.subText)),a.a.createElement("div",{className:"popover-btns"},a.a.createElement("button",{className:"btn btn-block",onClick:t},"Got it"))))}return a.a.createElement(bn,null)};wn.propTypes={onClickClose:c.a.func,directDebit:c.a.string,service:c.a.bool};var Cn=wn,jn=Object(A.b)(function(e){return{directDebit:F()(e,"directDebitAndServiceReducers.directDebit"),service:F()(e,"directDebitAndServiceReducers.service")}},function(e){return{onClickClose:function(){e(Object(Ve.a)(!1)),e(Object(B.d)())}}})(Cn);function Pn(e){"@babel/helpers - typeof";return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(){return(Tn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function kn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=_n(e);if(t){var a=_n(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===Pn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}(this,r)}}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xn(e,t)}(r,a.a.Component);var t=Sn(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={showFormEnd:!1},n.dataLayerTriggered=!1,n.prevCustomFunction=n.prevCustomFunction.bind(Dn(n)),n}return function(e,t,r){t&&kn(e.prototype,t),r&&kn(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidUpdate",value:function(){"success"===this.props.showFormEnd&&this.setState({showFormEnd:"success"}),!1===this.dataLayerTriggered&&(this.dataLayerTriggered=!0,Object(rt.a)({event_method:"popupform",event_type:"impression",event_label:"".concat(this.props.name.replace("-","|"),":Success"),event_section:"Transfers and Offers"}))}},{key:"prevCustomFunction",value:function(){return this.props.setHidePopover(),!0}},{key:"render",value:function(){var e=this.state.showFormEnd,t=this.props,r=t.name,o=t.screenState;return a.a.createElement(n.Fragment,null,!e&&a.a.createElement(On,Tn({name:r},this.props,{prevCustomFunction:this.prevCustomFunction,destroyFormOnUnmount:!0,unMount:this.prevCustomFunction,screenState:o,noValidate:!0})),"success"===e&&a.a.createElement(jn,Tn({prevCustomFunction:this.prevCustomFunction},this.props)))}}]),r}();Nn.propTypes={onSubmit:c.a.func.isRequired,setHidePopover:c.a.func,name:c.a.string,showFormEnd:c.a.string,screenState:c.a.string};var An=Object(A.b)(function(e){return{activeAccount:e.globalReducer.activeAccount,t2bOffersRestricted:F()(e,"transfersAndOffers.t2BFlags.t2bOffersRestricted"),t2bRestrictedReason:F()(e,"transfersAndOffers.t2BFlags.t2bRestrictedReason"),screenState:Object(tt.c)(e)}},function(e){return{setHidePopover:function(){return e(Object(Ve.a)())},onMount:function(){return O()}}})(Nn),Rn=Object(A.b)(function(e,t){return{showFormEnd:F()(e,"wizard.".concat(t.name,".data.showFormEnd"))}},function(e,t){return{onSubmit:function(e,r){return function(n){return n(Rr(e,r,t))}}}})(An),Fn=function(e){var t=e.offer,r=e.type,n=e.promotionalPeriodEnd,o=e.onClickClose;return r=r.replace(" ",""),a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:12,md:8,className:"_3KNSS"},a.a.createElement(z,{id:t.offerId,type:r,offer:t,name:t.offerType+"-"+t.offerId,triggerTitle:"Get offer",onClickClose:o},a.a.createElement(Rn,{id:t.offerId,name:t.offerType+"-"+t.offerId,type:r,offer:t})),a.a.createElement("p",{className:"_3ni8V","data-opt-in":!0},"Apply by: ",h(!1,n))))};Fn.propTypes={globalStyles:c.a.object,offer:c.a.object,offerId:c.a.string,type:c.a.string,promotionalPeriodEnd:c.a.number,onClickClose:c.a.func};var In=Fn,Bn=function(e){var t=e.offerCount,r=e.hasExistingPlans,n=e.eligiblePurchaseCount;return a.a.createElement(u.a,null,a.a.createElement(l.a,{xs:12,sm:12,md:8,className:"_3KNSS"},n>0&&a.a.createElement("div",null,a.a.createElement("a",{href:y.a.createInstalmentPlan.link},"".concat(n," eligible ").concat(n>1?"purchases":"purchase"))),r&&a.a.createElement("div",null,a.a.createElement("a",{href:y.a.viewInstalmentPlan.link},"View existing Plans")),a.a.createElement("p",null),a.a.createElement("a",{className:"btn KM-GP",href:t>0?y.a.instalmentPlan.link:y.a.discoverInstalmentPlan.link},t>0?"See ".concat(t," ").concat(t>1?"offers":"offer"):"Learn more")))};Bn.propTypes={offerCount:c.a.number,eligiblePurchaseCount:c.a.number,hasExistingPlans:c.a.bool};var Ln=Bn,Mn=function(e){var t=e.type,r=e.offer,n=e.groupBy,o=e.offerCount,c=e.hasExistingPlans,i=e.eligiblePurchaseCount,l=e.onClickClose,s=t.toLowerCase()===b.t.toLowerCase();switch(t){case b.f:case b.e:case b.t:return a.a.createElement(Er,{type:t,offer:r,groupBy:n,useSpend:s,promotionalPeriodEnd:r.promotionalPeriodEnd,digitalEndDate:r.digitalEndDate,onClickClose:l});case b.i:return a.a.createElement(Ln,{type:t,offer:r,groupBy:n,useSpend:s,offerCount:o,hasExistingPlans:c,eligiblePurchaseCount:i});case b.b:return a.a.createElement(dt,{type:t,offer:r,promotionalPeriodEnd:r.promotionalPeriodEnd,onClickClose:l});case b.l:return a.a.createElement(In,{type:t,offer:r,offerId:r.id,promotionalPeriodEnd:r.promotionalPeriodEnd,onClickClose:l});default:return null}};Mn.propTypes={type:c.a.string,offer:c.a.shape({id:c.a.string,promotionalPeriodEnd:c.a.number,digitalEndDate:c.a.number}),groupBy:c.a.string,offerCount:c.a.number,hasExistingPlans:c.a.bool,eligiblePurchaseCount:c.a.number,onClickClose:c.a.func};var Yn=r(273),qn=function(e){var t=e.isExtraSmall,r=e.children;return t?a.a.createElement(Yn.a,{title:"Example",defaultCollapsed:!0,showIcon:!0,"data-collapsible":!0,icon:{expand:"arrow-down",collapse:"arrow-up"}},r):r};qn.propTypes={isExtraSmall:c.a.bool,children:c.a.oneOfType([c.a.array,c.a.object])};var Hn=qn;function Vn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Un(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kn=function(e,t,r){return t&&Vn(e.prototype,t),r&&Vn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)});Un(Kn,"calculateOfferDurationCycle",function(e){return"".concat(e,e>1?" months":" month")}),Un(Kn,"calculateFeeCost",function(e,t){var r=e*t/100;return r%1!=0?r.toFixed(2):r.toString()}),Un(Kn,"calculateTotalAmount",function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=parseFloat(e)+parseFloat(t);return r+(n%1!=0?n.toFixed(2):n.toString()).replace(/\B(?=(\d{3})+(?!\d))/g,",")});r(1458);var Wn=function(e,t,r){var n="with any bank",o=g(1e3,t.feePercentage),c=function(e,t){var r=e+parseFloat(t);return(r%1!=0?r.toFixed(2):r.toString()).replace(/\B(?=(\d{3})+(?!\d))/g,",")}(1e3,o);switch(r){case Zr:case $r:n="with Barclays"}switch(e){case b.l:return a.a.createElement(a.a.Fragment,null,"Transfer £1,000 from your Barclaycard to your personal UK current"," ","account (",n,"), and your total repayments will equal £",c," (including a one-off money transfer fee of £",o,") if you pay it back before"," ",h(!1,t.offerDurationEndDate),". After this date,"," ","we'll"," start to charge interest at your standard interest rate on any balance left over.");default:return null}},zn=function(e,t,r){switch(e){case b.i:return function(e){switch(e){case b.i:return a.a.createElement(a.a.Fragment,null,"If you spend £100 on a sofa, you can use an Instalment Plan to pay it off in equal instalments over several months. This lets you spread the cost, with 0% interest and a fixed fee and duration agreed upfront");default:return null}}(e);case b.b:return function(e,t){var r=Kn.calculateFeeCost(1e3,t.feePercentage),n=Kn.calculateTotalAmount(1e3,r),o=Kn.calculateOfferDurationCycle(t.offerDurationBillingCycle);switch(e){case b.b:switch(t.btofferType){case"MONTHS":return a.a.createElement(a.a.Fragment,null,"Transfer an existing debt of £1,000 from another credit or store card to your Barclaycard, and your total repayments will equal £",n," (including a one-off balance transfer fee of £",r,") if you pay it back within"," ",o,". After"," ",o,", we’ll start to charge interest at your standard interest rate on any balance left over.");case"FIXED_END_DATE":return a.a.createElement(a.a.Fragment,null,"Transfer an existing debt of £1,000 from another credit or store card to your Barclaycard, and your total repayments for that transfer will equal £",n," (including a one-off balance transfer fee of £",r,") if you pay it back before ",h(!1,t.offerDurationEndDate),". After this date, we’ll start to charge interest at your standard interest rate on any balance left over.");case"PIF":return a.a.createElement(a.a.Fragment,null,"If you transfer an existing debt of £1,000 from another credit or store card to your Barclaycard, ","you'll"," be charged a one-off balance transfer fee of £",r,". This debt of £",n," will incur interest at a rate of"," ",t.interestRatePromotional,"% - and the rate will remain fixed until ","you've"," paid back the full balance.")}break;default:return null}}(e,t);case b.t:case b.e:case b.f:return function(e,t){switch(e){case b.f:return a.a.createElement(a.a.Fragment,null,"Let's"," say you spent £",v(t.minimumAmount)," on your card on purchases eligible for this offer. ","We'd"," give you £",g(t.minimumAmount,t.cashbackPercent,!0)," ","cashback, credited to your account. Purchases made after"," ",h(!1,t.endDateSpendDuration)," ","won't"," be eligible for cashback.");case b.e:return a.a.createElement(a.a.Fragment,null,"Let's"," say you spent £",v(t.minimumAmount)," on your card on an eligible purchase using this offer. Your total repayments for this purchase would be £",v(t.minimumAmount)," if you paid the full amount within ",t.billingCyclesOfferDuration," months of making the purchase."," ",a.a.createElement("strong",null,"Your ",t.billingCyclesOfferDuration,"-month period starts when you make a purchase, not when you take this offer.")," ","Once your offer ends, ","we'll"," start to charge you interest at your standard interest rate on any balance left over.");case b.t:return a.a.createElement(a.a.Fragment,null,"Let's"," say you spent £100 on your card on eligible purchases using this offer. Your total repayments for these purchases would be £100 if you paid the full amount before"," ",h(!1,t.offerDurationEnd),". After this date,"," ","we'll"," start to charge you interest at your standard interest rate on any balance left over.");default:return null}}(e,t);case b.l:return Wn(e,t,r);default:return null}},Gn=function(e){var t=e.type,r=e.offer,n=e.isExtraSmall,o=e.fraudException;return a.a.createElement(Hn,{isExtraSmall:n},a.a.createElement("dl",{"data-summary":!0,className:"_3TSYL"},a.a.createElement("dt",{className:"hidden-xs"},"Example:"),a.a.createElement("dd",null,a.a.createElement("p",null,zn(t,r,o)),a.a.createElement("p",{className:"V7iDE"},a.a.createElement("a",{"data-link":!0,href:E(t),className:"bc-external-link",target:"_blank",rel:"noreferrer"},a.a.createElement("span",{className:"sr-only"},"Learn about the restrictions and limitations that apply to this offer. Opens a new window"),a.a.createElement("span",{className:"link"},"Learn more about this offer"),a.a.createElement("span",{className:"icon icon-new-window"}))))))};Gn.propTypes={type:c.a.string,offer:c.a.object,isExtraSmall:c.a.bool,fraudException:c.a.string};var Qn=Gn,Jn=r(1456),Xn=r.n(Jn);r.d(t,"a",function(){return $n});var $n=function(e){var t=e.type,r=e.offer,n=e.isExtraSmall,o=e.groupBy,c=e.offerCount,i=e.hasExistingPlans,s=e.eligiblePurchaseCount,m=e.onClickClose,p=e.footerData,d=e.fraudException;return a.a.createElement("li",null,a.a.createElement(f.a,{styledName:Xn.a.offerPanel},a.a.createElement(u.a,{className:"no-margin"},a.a.createElement(l.a,{className:"col-sm-height ".concat("Instalment"===t&&c<=0?"":"seperator-sm"," col-top"),xs:12,sm:7,md:7},a.a.createElement(j,{type:t,offer:r}),a.a.createElement(N,{type:t,offer:r,footerData:p}),a.a.createElement(Mn,{type:t,offer:r,groupBy:o,offerCount:c,hasExistingPlans:i,eligiblePurchaseCount:s,onClickClose:m})),"Instalment"===t&&c<=0||a.a.createElement(l.a,{className:"col-sm-height col-middle",xs:12,sm:5,md:5},a.a.createElement(Qn,{type:t,offer:r,isExtraSmall:n,fraudException:d})))))};$n.propTypes={type:c.a.string,offer:c.a.object,offerId:c.a.string,isExtraSmall:c.a.bool,groupBy:c.a.string,offerCount:c.a.number,hasExistingPlans:c.a.bool,eligiblePurchaseCount:c.a.number,onClickClose:c.a.func,footerData:c.a.object,fraudException:c.a.string}},467:function(e,t,r){"use strict";var n=r(0),a=r(14);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=Object(n.memo)(function(e){var t=e.analytics;return Object(n.useEffect)(function(){Object(a.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){c(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({event_type:"impression"},t))},[t]),null}),l=Object(n.memo)(function(e){var t=e.analytics,r=t.level3,o=t.level4,c=t.other;return Object(n.useEffect)(function(){Object(a.c)(r,o,c)},[r,o,c]),null});r.d(t,"b",function(){return l}),r.d(t,"a",function(){return i})},468:function(e,t,r){"use strict";var n=r(419),a=r(270),o=r(0),c=r(489),i=r.n(c),l=r(18),s=(r(1325),{elements:[{id:"reply",required:!0,componentType:"TEXTAREA",label:"Reply to message",length:2e3,validations:[{type:"REQUIRE",message:"Your message must contain more than 10 characters. Please explain the nature of your query."},{type:"FORMAT",format:"^[\\s\\S]{11,2000}$",message:"Your message must contain more than 10 characters. Please explain the nature of your query."},{type:"FORMAT",format:"^[\r\na-zA-Z0-9 ()=?,.;:\\-&!'/\"£%#@_/+]{11,}$",message:"Sorry, you've entered some characters we can't accept. Please check your message and try again. We can accept all letters and numbers, Carriage return, plus the characters () = ? , . ; : - & ! ' \" £ % # @ _ / +"}],placeholder:""},{id:"compose_message",required:!0,componentType:"TEXTAREA",label:"compose message",length:2e3,validations:[{type:"REQUIRE",message:"Your message must contain more than 10 characters. Please explain the nature of your query."},{type:"FORMAT",format:"^[\\s\\S]{11,2000}$",message:"Your message must contain more than 10 characters. Please explain the nature of your query."},{type:"FORMAT",format:"^[\r\na-zA-Z0-9 ()=?,.;:\\-&!'/\"£%#@_/+]{11,}$",message:"Sorry, you've entered some characters we can't accept. Please check your message and try again. We can accept all letters and numbers, Carriage return, plus the characters () = ? , . ; : - & ! ' \" £ % # @ _ / +"}],placeholder:""},{id:"accounts",required:!0,componentType:"FIELD",readOnly:!1,label:"Select card",placeholder:"Select card",validations:[{type:"REQUIRE",message:"Please select your card."}]},{id:"subjects",required:!0,componentType:"FIELD",readOnly:!1,label:"Subject",placeholder:"Subject",validations:[{type:"REQUIRE",message:"Please select your subject."}]},{id:"check_message",required:!1,componentType:"FIELD",readOnly:!1}]}),u=r(655),f=r.n(u),m=r(1321),p=r.n(m),d=r(86);function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,r){t&&b(e.prototype,t),r&&b(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,null,[{key:"getElementMetadata",value:function(t,r){var n=t.split("[0].");n.length>1&&(t=n[0]+"_"+n[1]);var a=e.elements[r].elements,o=f()(a,["id",t]);return o||(o={label:"This element has no metadata configured. please configure.",placeholder:"This element has no metadata configured. please configure."}),o}},{key:"getKeysForPage",value:function(e){var t=[];switch(e=this.validatePage(e)){case"helpCentre":t=s.elements}var r=[];return p()(t,function(e){r.push(e.id)}),r}},{key:"validatePage",value:function(e){var t=d.a.getParameterByNameFromUrl({name:"validatepage"})||0;return 0===t?e:["helpCentre"][t-1]===e?e:""}}]),e}();!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(y,"elements",{helpCentre:s,addCardholder:{elements:[{id:"familyMember",required:!0,componentType:"CHECKBOX",validations:[{type:"REQUIRE",message:"For an additional cardholder to be added to your account they must live at the same address as the primary cardholder."}],placeholder:""},{id:"authorityCheck",required:!0,componentType:"CHECKBOX",validations:[{type:"REQUIRE",message:"For an additional cardholder to be added to your account you must confirm that they have authorised bureau checks to be carried out on their details."}],placeholder:""},{id:"title",required:!0,componentType:"SELECT",validations:[{type:"REQUIRE",message:"Please choose your additional cardholder's title from the list."}],placeholder:""},{id:"firstName",required:!0,componentType:"FIELD",validations:[{type:"REQUIRE",message:"Please enter your additional cardholder's first name."}],placeholder:""},{id:"lastName",required:!0,componentType:"FIELD",validations:[{type:"REQUIRE",message:"Please enter your additional cardholder's last name."}],placeholder:""},{id:"mobile",required:!0,componentType:"FIELD",validations:[{type:"REQUIRE",message:"Please enter your additional cardholder's mobile number."},{type:"FORMAT",format:"^07[0-9]{9,12}$",message:"Your additional cardholder's mobile number must start with 07 and contain only numbers (no letters, spaces or symbols)."}],placeholder:""},{id:"gender",required:!0,componentType:"FIELD",validations:[{type:"REQUIRE",message:"Please choose your additional cardholder's gender."}],placeholder:""},{id:"nationality",required:!0,componentType:"FIELD",validations:[{type:"REQUIRE",message:"Please choose your additional cardholder's nationality from the list."}],placeholder:""},{id:"dob",required:!0,componentType:"FIELD",validations:[{type:"REQUIRE",message:"Please enter your additional cardholder's date of birth."}],placeholder:""}]}});r(653),r(654);var h=r(70),v=r(1351);function g(e,t,r,n,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function E(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function c(e){g(o,n,a,c,i,"next",e)}function i(e){g(o,n,a,c,i,"throw",e)}c(void 0)})}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],c=!0,i=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==r.return||r.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=function(e){var t=e.mcaFeatureName,r=e.systemContext,n=e.position,c=e.businessContext,s=O(Object(o.useState)(!0),2),u=s[0],f=s[1],m=O(Object(o.useState)(!1),2),p=m[0],d=m[1],b=Object(h.c)("CSRF-TOKEN"),y=Object(a.useQuery)("getMCAUrl",E(regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(l.s,{mcaFeatureName:t,systemContext:r,businessContext:c},{headers:{"X-CSRF-TOKEN":b||""}});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)})),{retry:0,refetchOnWindowFocus:!1,refetchOnMount:"always",onSuccess:function(e){null!==e&&void 0!==e&&e.multipleCsId&&f(!1),d(e.refId)},onError:function(){f(!1)}}),g=!!y.data&&y.data.url,w=!!y.data&&y.data.multipleCsId,C=Object(a.useQuery)(["getMCAContent",g,p],E(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("".concat(g,"?").concat(p),{headers:{"X-CSRF-TOKEN":b||""},responseType:"text/html",withCredentials:!0});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)})),{onSuccess:function(e){var r={type:"INFO",description:"The call to MCA DSS AWT url ".concat(g," is successfull for ref id ").concat(p," and MCA feature name ").concat(t)};Object(v.a)(r),function(e,t){for(var r=document.getElementById(t),n=(new DOMParser).parseFromString(e,"text/html");n.head.firstElementChild;)document.head.appendChild(n.head.firstElementChild);var a=n.body.querySelector("script"),o=Object.assign(document.createElement("script"),{type:"text/javascript"});o.innerHTML=a.innerHTML,a.remove(),n.body.firstElementChild&&r.appendChild(n.body.firstElementChild),r.appendChild(o)}(e,n)},onError:function(e){var r,n={type:"ERROR",description:"The call to MCA DSS AWT url ".concat(g," failed for ref id ").concat(p," and MCA feature name ").concat(t," with status ").concat((null===e||void 0===e?void 0:null===(r=e.response)||void 0===r?void 0:r.status)||"network error or other error")};Object(v.a)(n),f(!1)},enabled:!!g&&!!p&&!w,retry:0,refetchOnWindowFocus:!1,refetchOnMount:"always"});return window.mcaLayer={mcaLoadedCallback:function(e){f(e)},mcaContainerRef:n},{isLoading:Object(o.useMemo)(function(){return y.isLoading||C.isLoading||u},[y.isLoading,C.isLoading,u]),isError:Object(o.useMemo)(function(){return y.isError||C.isError},[y.isError,C.isError]),isMultipleCsId:Object(o.useMemo)(function(){return w},[w])}};r.d(t,"a",function(){return n.a}),r.d(t,"b",function(){return C})},470:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(46),l=r(59),s=r(10),u=r.n(s);function f(e){"@babel/helpers - typeof";return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var a=b(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(r,n["Component"]);var t=d(r);function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.apply(this,arguments)}return function(e,t,r){t&&m(e.prototype,t),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"render",value:function(){var e={maxHeight:this.props.maxHeight,overflow:this.props.overflow,transition:"max-height ".concat(this.props.duration,"ms ease-out"),display:this.props.bodyDisplay};return a.a.createElement(this.props.rootTag,{"aria-labelledby":"accordian-item-title-".concat(this.props.itemKey),className:u()("accordian-item-body",this.props.className),id:"accordian-item-body-".concat(this.props.itemKey),style:e,ref:this.props.itemBodyRef,"aria-expanded":this.props.expanded?"true":"false"},a.a.createElement("div",{className:"accordian-item-body-wrapper"},this.props.children))}}]),r}();y.defaultProps={rootTag:"div"},y.propTypes={className:c.a.string,maxHeight:c.a.oneOfType([c.a.string,c.a.number]),itemBodyRef:c.a.func,itemKey:c.a.string,duration:c.a.number,overflow:c.a.string,rootTag:c.a.string,children:c.a.object,bodyDisplay:c.a.string,expanded:c.a.bool};var h=r(15),v=r.n(h),g=r(76);r(1481);function E(e){"@babel/helpers - typeof";return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O={"./AccordionItemTitle.style.css":{"item-title":"_2xMFy",arrows:"_1kMhj",title:"_3t37s",expanded:"_2yIzU"}};function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var a=T(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(this,r)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(r,n["Component"]);var t=j(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).handleClick=n.handleClick.bind(P(n)),n}return function(e,t,r){t&&w(e.prototype,t),r&&w(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"handleClick",value:function(e){this.props.onClick(e)}},{key:"render",value:function(){var e={color:this.props.titleColor},t=this.props.title,r=u()("title",{expanded:this.props.expanded});return a.a.createElement(this.props.rootTag,{id:"accordian-item-title-".concat(this.props.itemKey),onClick:this.handleClick,onKeyDown:this.handleClick,style:e,className:"_2xMFy"},a.a.createElement(g.a,{role:"button",ariaSelected:this.props.expanded?"true":"false",isAriaExpanded:this.props.expanded?"true":"false",ariaControls:"accordian-item-body-".concat(this.props.itemKey),id:"accordian-item-button-".concat(this.props.itemKey),className:v()(r,O)},t))}}]),r}();function x(e){"@babel/helpers - typeof";return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=N(e);if(t){var a=N(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}k.propTypes={className:c.a.string,onClick:c.a.func,itemKey:c.a.string,title:c.a.oneOfType([c.a.string,c.a.node]),rootTag:c.a.string.isRequired,titleColor:c.a.string,expanded:c.a.bool},r.d(t,"a",function(){return A});var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(r,n["Component"]);var t=_(r);function r(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=t.call(this,e)).state={maxHeight:e.expanded?"none":0,overflow:e.expanded?"visible":"hidden",duration:300,bodyDisplay:"block"},n}return function(e,t,r){t&&S(e.prototype,t),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.setMaxHeight()}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.expanded,n=t.disabled;if(e.expanded!==r){if(n)return;r?this.handleExpand():this.handleCollapse()}}},{key:"handleExpand",value:function(){var e=this,t=this.props,r=t.onExpand,n=t.slug;this.setState({bodyDisplay:"block"},function(){return e.setMaxHeight()}),i.a.dispatch(Object(l.b)({event_label:"string"==typeof this.props.title?this.props.title:"",event_type:"accordion:expand",event_method:"accordion:expand"})),r&&(n?r(n):r())}},{key:"handleCollapse",value:function(){var e=this.props,t=e.onClose,r=e.slug;this.setMaxHeight(),i.a.dispatch(Object(l.b)({event_label:"string"==typeof this.props.title?this.props.title:"",event_type:"accordion:collapse",event_method:"accordion:collapse"})),t&&(r?t(r):t())}},{key:"setMaxHeight",value:function(){var e=this,t=this.body,r=t.querySelectorAll("img");if(r.length>0)return this.preloadImages(t,r);this.setState({maxHeight:this.props.expanded?t.scrollHeight+"px":0,overflow:this.props.expanded?"visible":"hidden"}),this.props.expanded||setTimeout(function(){e.setState({bodyDisplay:"none"})},this.state.duration)}},{key:"preloadImages",value:function(e){for(var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=0,a=function(){++n===r.length&&t.setState({maxHeight:t.props.expanded?e.scrollHeight+"px":0,overflow:"hidden"})},o=0;o<r.length;o+=1){var c=new Image;c.src=r[o].src,c.onload=c.onerror=a}}},{key:"getProps",value:function(){return{style:this.props.style,onKeyDown:this.props.disabled?null:this.props.onClick,className:this.props.className}}},{key:"render",value:function(){var e=this;return a.a.createElement(this.props.rootTag,this.getProps(),a.a.createElement(k,{className:this.props.titleClassName,title:this.props.title,onClick:this.props.disabled?null:this.props.onClick,onKeyDown:this.props.disabled?null:this.props.onClick,titleColor:this.props.titleColor,rootTag:this.props.titleTag,expanded:this.props.expanded,itemKey:this.props.itemKey,titleStyle:this.props.titleStyle}),a.a.createElement(y,{maxHeight:this.state.maxHeight,duration:this.state.duration,className:this.props.bodyClassName,overflow:this.state.overflow,itemBodyRef:function(t){return e.body=t},rootTag:this.props.bodyTag,expanded:this.props.expanded,bodyDisplay:this.state.bodyDisplay,itemKey:this.props.itemKey},this.props.children))}}]),r}();A.defaultProps={rootTag:"div",titleTag:"div",bodyTag:"div"},A.propTypes={bodyClassName:c.a.string,className:c.a.string,expanded:c.a.bool,itemKey:c.a.string,onClick:c.a.func,title:c.a.oneOfType([c.a.string,c.a.node]),style:c.a.object,titleClassName:c.a.string,disabled:c.a.bool,rootTag:c.a.string,titleTag:c.a.string,bodyTag:c.a.string,children:c.a.object,titleColor:c.a.string,onExpand:c.a.bool,slug:c.a.bool,onClose:c.a.func,titleStyle:c.a.string}},709:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(12),l=r(1319),s=r.n(l),u=r(68),f=r.n(u),m=r(39),p=r.n(m),d=r(466),b=r(460),y=r(1328),h=r(30),v=r(191),g=r(1336),E=r(1337),O=(r(1330),function(e){return e.mtHasError?a.a.createElement("div",{className:"as-mb-5"},a.a.createElement(E.a,{isChild:e.isChild},e.title),a.a.createElement(b.c,null,a.a.createElement("strong",null,y.k),a.a.createElement("p",null,y.m))):(e.shouldChangeLocation&&(window.location.href=h.a.transfersAndOffers.link),e.hasMtOffersAvailable?a.a.createElement(n.Fragment,null,!e.isChild&&a.a.createElement(v.a,{title:"Barclaycard | Money Transfer Offers"}),a.a.createElement(E.a,{isChild:e.isChild},e.title),a.a.createElement("div",{className:"_1ug0f"},a.a.createElement("p",null,"The amount you can transfer can vary, depending on your individual credit limit and the existing balance on your Barclaycard. Want to transfer more?"),a.a.createElement("p",null,"See if your"," ",a.a.createElement("a",{href:h.a.creditIncrease.link},"credit limit can be increased."))),a.a.createElement(p.a,null,a.a.createElement(f.a,{xs:12},a.a.createElement(s.a,{visibleXsBlock:!0,visibleMdBlock:!0,visibleLgBlock:!0},a.a.createElement("ul",{className:"_3Jy8p"},e.mtOffers.map(function(t){return a.a.createElement(d.a,{type:"Money transfer",offer:t,key:t.offerId,isExtraSmall:e.isExtraSmall,onClickClose:e.onClickClose,fraudException:e.fraudException})}))))),a.a.createElement(g.a,e)):a.a.createElement(n.Fragment,null,a.a.createElement(E.a,{isChild:e.isChild},e.title),a.a.createElement(b.a,{title:"No money transfers"},"You don’t have any money transfers available.")))});O.propTypes={isChild:c.a.bool,isExtraSmall:c.a.bool,loadOffersTest:c.a.func,mtOffers:c.a.array,setSelectedCategory:c.a.func,mtHasError:c.a.bool,onClickClose:c.a.func,fraudException:c.a.string,title:c.a.string,shouldChangeLocation:c.a.bool,hasMtOffersAvailable:c.a.bool};var w=Object(n.memo)(O),C=r(462),j=r(101);r.d(t,"MoneyTransferPageContainer",function(){return P}),r.d(t,"mapStateToProps",function(){return T}),r.d(t,"mapDispatchToProps",function(){return k});var P=function(e){var t=Object(C.d)(e._state,e._dispatch),r=t.mtOffers,n=t.mtOfferError,o=Object(j.b)(e._state,e._dispatch).isExtraSmall,c=Object(C.e)(e._state,e._dispatch),i=c.dispatchLoadOffers,l=c.dispatchSetSelectedCategory,s=c.fraudException,u={isChild:e.isChild,title:"Money transfers",mtOffers:r,isExtraSmall:o,mtHasError:n,shouldChangeLocation:!e.isChild&&r.length<1,hasMtOffersAvailable:!(e.isChild&&r.length<1),setSelectedCategory:l,onClickClose:i,fraudException:s};return a.a.createElement(w,u)};P.propTypes={_state:c.a.object,_dispatch:c.a.func,isChild:c.a.bool};var T=function(e){return{_state:e}},k=function(e){return{_dispatch:e}};t.default=Object(i.b)(T,k)(P)},710:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(12),l=r(1319),s=r.n(l),u=r(68),f=r.n(u),m=r(39),p=r.n(m),d=r(466),b=r(30),y=r(191),h=r(1336),v=r(1337),g=(r(1330),r(1328)),E=r(460),O=function(e){return e.btHasError?a.a.createElement("div",{className:"as-mb-5"},a.a.createElement(v.a,{isChild:e.isChild},e.title),a.a.createElement(E.c,null,a.a.createElement("strong",null,g.a),a.a.createElement("p",null,g.m))):(e.shouldChangeLocation&&(window.location.href=b.a.transfersAndOffers.link),e.hasBTOffersAvailable?a.a.createElement(n.Fragment,null,!e.isChild&&a.a.createElement(y.a,{title:"Barclaycard | Balance Transfer Offers"}),a.a.createElement(v.a,{isChild:e.isChild},e.title),a.a.createElement("div",{className:"_1ug0f"},a.a.createElement("p",null,"The amount you can transfer can vary, depending on your individual credit limit and the existing balance on your Barclaycard. Want to transfer more?"),a.a.createElement("p",null,"See if your"," ",a.a.createElement("a",{href:b.a.creditIncrease.link},"credit limit can be increased"))),a.a.createElement(p.a,null,a.a.createElement(f.a,{xs:12},a.a.createElement(s.a,{visibleXsBlock:!0,visibleMdBlock:!0,visibleLgBlock:!0},a.a.createElement("ul",{className:"_3Jy8p"},e.btOffers.map(function(t){return a.a.createElement(d.a,{type:"Balance",offer:t,key:t.offerId,isExtraSmall:e.isExtraSmall,onClickClose:e.onClickClose})}))))),a.a.createElement(h.a,e)):a.a.createElement(n.Fragment,null,a.a.createElement(v.a,{isChild:e.isChild},e.title),a.a.createElement(E.a,{title:"No balance transfers"},"You don’t have any balance transfers available.")))};O.propTypes={btOffers:c.a.array,isChild:c.a.bool,isExtraSmall:c.a.bool,setSelectedCategory:c.a.func,btHasError:c.a.bool,onClickClose:c.a.func,hasBTOffersAvailable:c.a.bool,shouldChangeLocation:c.a.bool,title:c.a.string};var w=Object(n.memo)(O),C=r(462),j=r(101);r.d(t,"BalanceTransferPageContainer",function(){return P}),r.d(t,"mapStateToProps",function(){return T}),r.d(t,"mapDispatchToProps",function(){return k});var P=function(e){var t=Object(C.a)(e._state,e._dispatch),r=t.btOffers,n=t.btOfferError,o=Object(j.b)(e._state,e._dispatch).isExtraSmall,c=Object(C.e)(e._state,e._dispatch),i=c.dispatchLoadOffers,l=c.dispatchSetSelectedCategory,s={isChild:e.isChild,btOffers:r,shouldChangeLocation:!e.isChild&&r.length<1,hasBTOffersAvailable:!(e.isChild&&r.length<1),btHasError:n,title:"Balance transfers",isExtraSmall:o,onClickClose:i,setSelectedCategory:l};return a.a.createElement(w,s)};P.propTypes={_state:c.a.object,_dispatch:c.a.func,isChild:c.a.bool};var T=function(e){return{_state:e}},k=function(e){return{_dispatch:e}};t.default=Object(i.b)(T,k)(P)},711:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(1),c=r.n(o),i=r(12),l=r(1328),s=r(1319),u=r.n(s),f=r(68),m=r.n(f),p=r(39),d=r.n(p),b=r(466),y=r(460),h=r(191),v=(r(1330),r(30)),g=r(1336),E=r(1337),O=function(e){var t=e.hvtRateOffers,r=e.spendOffers;return t.length>0&&r.length>0?a.a.createElement("h2",null,"Or"):null};O.propTypes={hvtRateOffers:c.a.array,spendOffers:c.a.array};var w=Object(n.memo)(O),C=function(e){var t=e.isExtraSmall,r=e.footerData,o=e.title,c=e.isChild,i=e.hvtRateOffers,s=e.hvtRewardOffers,f=e.spendOffers,p=e.onClickClose,O=e.loadDirectDebit,C=e.shouldChangeLocation,j=e.PurchaseError,P=e.hasPurchaseOffersAvailable,T=e.popoverClassName;return Object(n.useEffect)(function(){O()},[O]),j?a.a.createElement("div",{className:"as-mb-5"},a.a.createElement(E.a,{isChild:c},o),a.a.createElement(y.c,null,a.a.createElement("strong",null,l.p),a.a.createElement("p",null,l.m))):(C&&(window.location.href=v.a.transfersAndOffers.link),P?a.a.createElement(n.Fragment,null,!c&&a.a.createElement(h.a,{title:"Barclaycard | Purchase Offers"}),a.a.createElement(E.a,{isChild:c},o),a.a.createElement(d.a,null,a.a.createElement(m.a,{xs:12},a.a.createElement(u.a,{visibleXsBlock:!0,visibleMdBlock:!0,visibleLgBlock:!0},a.a.createElement("div",{"data-spend-group":!0,className:T},a.a.createElement("ul",{className:"_3Jy8p"},f.map(function(e){return a.a.createElement(b.a,{type:l.t,offer:e,key:e.offerId,isExtraSmall:t,groupBy:l.r,onClickClose:p,footerData:r})}))),a.a.createElement("div",{"data-hvt-group":!0,className:T},a.a.createElement(w,{hvtRateOffers:i,spendOffers:f}),a.a.createElement("ul",{className:"_3Jy8p"},i.map(function(e){return a.a.createElement(b.a,{type:l.e,offer:e,key:e.offerId,isExtraSmall:t,groupBy:l.d,onClickClose:p,footerData:r})}),s.map(function(e){return a.a.createElement(b.a,{type:l.f,offer:e,key:e.offerId,isExtraSmall:t,groupBy:l.d,onClickClose:p,footerData:r})})))))),a.a.createElement(g.a,e)):a.a.createElement(n.Fragment,null,a.a.createElement(E.a,{isChild:c},o),a.a.createElement(y.a,{title:"No purchase offers"},"You don’t have any purchase offers available.")))};C.propTypes={isExtraSmall:c.a.bool,footerData:c.a.object,title:c.a.string,isChild:c.a.bool,hvtRateOffers:c.a.array,hvtRewardOffers:c.a.array,spendOffers:c.a.array,onClickClose:c.a.func,loadDirectDebit:c.a.func.isRequired,shouldChangeLocation:c.a.bool,PurchaseError:c.a.bool,hasPurchaseOffersAvailable:c.a.bool,popoverClassName:c.a.string};var j=Object(n.memo)(C),P=r(462),T=r(101);r.d(t,"PurchasePageContainer",function(){return k}),r.d(t,"mapStateToProps",function(){return x}),r.d(t,"mapDispatchToProps",function(){return S});var k=function(e){var t=Object(P.g)(e._state),r=t.spendOffers,n=t.hvtRateOffers,o=t.hvtRewardOffers,c=t.purchaseOffers,i=t.purchaseOfferError,s=Object(T.b)(e._state,e._dispatch).isExtraSmall,u=Object(P.f)(e._state,e._dispatch),f=u.showPopover,m=u.showPopoverGroup,p=Object(T.d)(e._state,e._dispatch).footerData,d=Object(P.b)(e._dispatch).dispatchLoadDirectDebit,b=Object(P.e)(e._state,e._dispatch),y=b.error,h=b.errorType,v=b.dispatchLoadOffers,g=!e.isChild&&c.length<1&&n.length<1&&o.length<1,E=f&&m!==l.r?"popover__spendGroup_active":null,O=!(e.isChild&&c.length<1),w=Boolean(i||y||h),C={isChild:e.isChild,title:"Purchase offers",purchaseOffers:c,spendOffers:r,hvtRateOffers:n,hvtRewardOffers:o,isExtraSmall:s,showPopover:f,showPopoverGroup:m,popoverClassName:E,footerData:p,shouldChangeLocation:g,PurchaseError:w,hasPurchaseOffersAvailable:O,loadDirectDebit:d,onClickClose:v};return a.a.createElement(j,C)};k.propTypes={_state:c.a.object,_dispatch:c.a.func,isChild:c.a.bool};var x=function(e){return{_state:e}},S=function(e){return{_dispatch:e}};t.default=Object(i.b)(x,S)(k)}}]);